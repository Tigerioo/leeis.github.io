<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.4.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.4.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.4.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.4.0',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="Life is so short, do something to make yourself happy, such as coding.">
<meta property="og:type" content="website">
<meta property="og:title" content="IOMan">
<meta property="og:url" content="http://ioman.cc/index.html">
<meta property="og:site_name" content="IOMan">
<meta property="og:description" content="Life is so short, do something to make yourself happy, such as coding.">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="IOMan">
<meta name="twitter:description" content="Life is so short, do something to make yourself happy, such as coding.">






  <link rel="canonical" href="http://ioman.cc/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>IOMan</title>
  






  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?f10dc76aaf5e7e0ecb11915d6c032925";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">IOMan</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Keep Input, Keep Output.</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />é¦–é¡µ</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />å…³äº</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />æ ‡ç­¾</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />åˆ†ç±»</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />å½’æ¡£</a>
  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />æœç´¢</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ioman.cc/2018/09/17/åœ¨Spring-Bootä¸­ä½¿ç”¨MyBatis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mario">
      <meta itemprop="description" content="Life is so short, do something to make yourself happy, such as coding.">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IOMan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/09/17/åœ¨Spring-Bootä¸­ä½¿ç”¨MyBatis/" itemprop="url">
                  åœ¨Spring Bootä¸­ä½¿ç”¨MyBatis
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-09-17 20:13:48" itemprop="dateCreated datePublished" datetime="2018-09-17T20:13:48+08:00">2018-09-17</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-09-18 08:31:27" itemprop="dateModified" datetime="2018-09-18T08:31:27+08:00">2018-09-18</time>
              
            
          </span>

          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2018/09/17/åœ¨Spring-Bootä¸­ä½¿ç”¨MyBatis/#SOHUCS" itemprop="discussionUrl">
                  <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span> <span id="url::http://ioman.cc/2018/09/17/åœ¨Spring-Bootä¸­ä½¿ç”¨MyBatis/" class="cy_cmt_count" data-xid="2018/09/17/åœ¨Spring-Bootä¸­ä½¿ç”¨MyBatis/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2018/09/17/åœ¨Spring-Bootä¸­ä½¿ç”¨MyBatis/" class="leancloud_visitors" data-flag-title="åœ¨Spring Bootä¸­ä½¿ç”¨MyBatis">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="1-pomä¸­å¼•å…¥MyBatis"><a href="#1-pomä¸­å¼•å…¥MyBatis" class="headerlink" title="1. pomä¸­å¼•å…¥MyBatis"></a>1. pomä¸­å¼•å…¥MyBatis</h4><p>åˆ°Mavenä»“åº“, æœç´¢spring boot mybatis, å¤åˆ¶æœ€æ–°çš„<a href="https://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter/1.3.2" target="_blank" rel="noopener">maven</a>åˆ°<code>pom.xml</code>æ–‡ä»¶ä¸­</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.3.2&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<h4 id="2-åˆ›å»ºMapper"><a href="#2-åˆ›å»ºMapper" class="headerlink" title="2. åˆ›å»ºMapper"></a>2. åˆ›å»ºMapper</h4><p>å¼•å…¥äº†statrerä¹‹åï¼Œæˆ‘ä»¬ä¸éœ€è¦åšå…¶ä»–é¢å¤–çš„é…ç½®å’Œä¾èµ–ï¼Œç›´æ¥åˆ›å»ºMapper, è¿™é‡Œåˆ›å»ºä¸€ä¸ª<code>ShopAccountMapper</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ShopAccountMapper</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨æ³¨è§£<code>@Mapper</code>æ¥è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªMybatisçš„Mapperç±»ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨å¯åŠ¨æ–‡ä»¶ä¸­æŒ‡å®šmapperç±»æ‰€åœ¨çš„åŒ…ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…åœ¨æ¯ä¸ªMapperç±»ä¸ŠåŠ å…¥<code>@Mapper</code>æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MapperScan</span>(basePackages = <span class="string">"shop.leshare.mapper"</span>)</span><br></pre></td></tr></table></figure>
<h5 id="ç®€å•æŸ¥è¯¢"><a href="#ç®€å•æŸ¥è¯¢" class="headerlink" title="ç®€å•æŸ¥è¯¢"></a>ç®€å•æŸ¥è¯¢</h5><p>åœ¨Sqlä¸­å¼•ç”¨å‚æ•°éœ€è¦ç”¨<code>#{}</code>æ¥è¡¨ç¤º, æˆ‘ä»¬åœ¨å‚æ•°ä¸­ç”¨<code>@Param</code>æ¥æŒ‡å®šå‚æ•°åç§°ï¼Œå¦åˆ™Mybatisé»˜è®¤ä¼šä»¥<code>arg0</code>, <code>arg1</code>, <code>param0</code>, <code>param1</code>è¿™æ ·çš„åå­—æ¥å‘½å</p>
<p>å¯¹äºè¿”å›ç»“æœçš„å¤„ç†ï¼Œå¦‚æœå­˜åœ¨å®ä½“å±æ€§å’Œæ•°æ®åº“å­—æ®µä¸ä¸€è‡´æ—¶ï¼Œéœ€è¦ç”¨<code>@Result</code>æ³¨è§£æŒ‡å®š, å…¶ä¸­<code>property</code>æ˜¯è¡¨ç¤ºjavaå®ä½“å±æ€§, <code>column</code>è¡¨ç¤ºæ•°æ®åº“å­—æ®µ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select</span>(<span class="string">"select * from shop_account where shop_id=#&#123;shopId&#125; and sub_shop_id=#&#123;subShopId&#125;"</span>)</span><br><span class="line"><span class="meta">@Results</span>(&#123;</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"shopId"</span>, column = <span class="string">"shop_id"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"shopName"</span>, column = <span class="string">"shop_name"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"subShopId"</span>, column = <span class="string">"sub_shop_id"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"subShopName"</span>, column = <span class="string">"sub_shop_name"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"createTime"</span>, column = <span class="string">"create_time"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"updateTime"</span>, column = <span class="string">"update_time"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"recvAccountType"</span>, column = <span class="string">"recv_account_type"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"recvValue"</span>, column = <span class="string">"recv_value"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"recvValue2"</span>, column = <span class="string">"recv_value2"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"checkName"</span>, column = <span class="string">"check_name"</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="function">List&lt;ShopAccount&gt; <span class="title">findAccounts</span><span class="params">(@Param(<span class="string">"shopId"</span>)</span> <span class="keyword">int</span> shopId, @<span class="title">Param</span><span class="params">(<span class="string">"subShopId"</span>)</span> <span class="keyword">int</span> subShopId)</span>;</span><br></pre></td></tr></table></figure>
<h5 id="æ¡ä»¶æŸ¥è¯¢"><a href="#æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="æ¡ä»¶æŸ¥è¯¢"></a>æ¡ä»¶æŸ¥è¯¢</h5><p>æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦æ ¹æ®ä¸åŒçš„å‚æ•°æ¡ä»¶è¿›è¡Œsqlæ‹¼æ¥ï¼Œæ¯”å¦‚è¿™é‡Œï¼Œä»…å½“<code>subShopId</code>å¤§äº0çš„æ—¶å€™ï¼Œæ‰çº³å…¥æŸ¥è¯¢æ¡ä»¶ï¼Œè¿™æ—¶å€™å°±è¦ç”¨åˆ°<code>@SelectProvider</code>æ³¨è§£ï¼Œ<code>type</code>æŒ‡å®šä¸€ä¸ªç±»ï¼Œ<code>method</code>æŒ‡å®šè¯¥ç±»çš„æ–¹æ³•. </p>
<p><code>Provider</code>ä¸­æ–¹æ³•è¿”å›çš„æ˜¯ä¸€ä¸ªStringï¼Œ ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ–¹æ³•é‡Œæ ¹æ®ç»™å®šçš„å‚æ•°è¿›è¡Œåˆ¤æ–­ï¼Œè¿”å›sqlè¯­å¥å³å¯ã€‚<strong>å½“Mapperä¸­å‚æ•°å¤§äºç­‰äº2ä¸ªæ—¶, Providerä¸­æ–¹æ³•æ¥æ”¶çš„å‚æ•°ä¸º<code>Map&lt;String, Object&gt;</code></strong>, Keyå°±æ˜¯åœ¨<code>@Param</code>ä¸­æŒ‡å®šçš„åç§°</p>
<blockquote>
<p>æ³¨æ„ï¼Œå½“Providerå‚æ•°åŒ…å«å¯¹è±¡æ—¶ï¼Œè¦å–å¯¹è±¡ä¸­çš„æŸä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥ç›´æ¥ç”¨A.Bçš„æ–¹å¼ï¼Œæ¯”å¦‚å–Userä¸­çš„name, ç›´æ¥#{user.name}, å¦‚æœæ˜¯å¤šå‚æ•°, è¿™ä¸ªuserè¦å…ˆä»mapä¸­å–å‡º</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SelectProvider</span>(type = ShopAccountProvider.class, method = <span class="string">"findList"</span>)</span><br><span class="line"><span class="meta">@Results</span>(&#123;</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"shopId"</span>, column = <span class="string">"shop_id"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"shopName"</span>, column = <span class="string">"shop_name"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"subShopId"</span>, column = <span class="string">"sub_shop_id"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"subShopName"</span>, column = <span class="string">"sub_shop_name"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"createTime"</span>, column = <span class="string">"create_time"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"updateTime"</span>, column = <span class="string">"update_time"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"recvAccountType"</span>, column = <span class="string">"recv_account_type"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"recvValue"</span>, column = <span class="string">"recv_value"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"recvValue2"</span>, column = <span class="string">"recv_value2"</span>),</span><br><span class="line">        <span class="meta">@Result</span>(property = <span class="string">"checkName"</span>, column = <span class="string">"check_name"</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="function">List&lt;ShopAccount&gt; <span class="title">findAccounts</span><span class="params">(@Param(<span class="string">"shopId"</span>)</span> <span class="keyword">int</span> shopId, @<span class="title">Param</span><span class="params">(<span class="string">"subShopId"</span>)</span> <span class="keyword">int</span> subShopId)</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ShopAccountProvider</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">findList</span><span class="params">(Map&lt;String, Object&gt; param)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> subShopId = (<span class="keyword">int</span>)param.get(<span class="string">"subShopId"</span>);</span><br><span class="line">        String sql = <span class="string">"select * from shop_account where shop_id=#&#123;shopId&#125;\n"</span>;</span><br><span class="line">        <span class="keyword">if</span>(subShopId &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            sql += <span class="string">"and sub_shop_id=#&#123;subShopId&#125;"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sql;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="æ–°å¢"><a href="#æ–°å¢" class="headerlink" title="æ–°å¢"></a>æ–°å¢</h5><p>ç”¨<code>@Insert</code>æ³¨è§£è¿›è¡Œæ–°å¢æ“ä½œ, å¦‚æœéœ€è¦è‡ªåŠ¨èµ‹å€¼è‡ªå¢é•¿çš„ID, éœ€è¦ç”¨åˆ°<code>@Options</code>æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Insert</span>(<span class="string">"insert into shop_account (\n"</span> +</span><br><span class="line">            <span class="string">"  shop_id,\n"</span> +</span><br><span class="line">            <span class="string">"  shop_name,\n"</span> +</span><br><span class="line">            <span class="string">"  sub_shop_id,\n"</span> +</span><br><span class="line">            <span class="string">"  sub_shop_name,\n"</span> +</span><br><span class="line">            <span class="string">"  balance,\n"</span> +</span><br><span class="line">            <span class="string">"  returns,\n"</span> +</span><br><span class="line">            <span class="string">"  create_time,\n"</span> +</span><br><span class="line">            <span class="string">"  update_time,\n"</span> +</span><br><span class="line">            <span class="string">"  recv_account_type,\n"</span> +</span><br><span class="line">            <span class="string">"  recv_value,\n"</span> +</span><br><span class="line">            <span class="string">"  recv_value2,\n"</span> +</span><br><span class="line">            <span class="string">"  check_name\n"</span> +</span><br><span class="line">            <span class="string">") value (\n"</span> +</span><br><span class="line">            <span class="string">"  #&#123;shopId&#125;,\n"</span> +</span><br><span class="line">            <span class="string">"  #&#123;shopName&#125;,\n"</span> +</span><br><span class="line">            <span class="string">"  #&#123;subShopId&#125;,\n"</span> +</span><br><span class="line">            <span class="string">"  #&#123;subShopName&#125;,\n"</span> +</span><br><span class="line">            <span class="string">"  #&#123;balance&#125;,\n"</span> +</span><br><span class="line">            <span class="string">"  #&#123;returns&#125;,\n"</span> +</span><br><span class="line">            <span class="string">"  now(),\n"</span> +</span><br><span class="line">            <span class="string">"  now(),\n"</span> +</span><br><span class="line">            <span class="string">"  #&#123;recvAccountType&#125;,\n"</span> +</span><br><span class="line">            <span class="string">"  #&#123;recvValue&#125;,\n"</span> +</span><br><span class="line">            <span class="string">"  #&#123;recvValue2&#125;,\n"</span> +</span><br><span class="line">            <span class="string">"  #&#123;checkName&#125;\n"</span> +</span><br><span class="line">            <span class="string">")"</span>)</span><br><span class="line">    <span class="meta">@Options</span>(useGeneratedKeys = <span class="keyword">true</span>, keyProperty = <span class="string">"id"</span>, keyColumn = <span class="string">"id"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addAccount</span><span class="params">(ShopAccount account)</span></span>;</span><br></pre></td></tr></table></figure>
<p>å…¶ä»–å¦‚æ›´æ–°ç”¨<code>@Update</code>æ³¨è§£, åˆ é™¤ç”¨<code>@Delete</code>æ³¨è§£ï¼Œä½¿ç”¨æ–¹å¼åŒ<code>@Insert</code></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ioman.cc/2018/08/15/é€šè¿‡Spring-AOPæ³¨è§£å®ç°å¯¹å¾®ä¿¡å°ç¨‹åºç‰¹æ®Šè¡¨æƒ…emojiçš„å¤„ç†/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mario">
      <meta itemprop="description" content="Life is so short, do something to make yourself happy, such as coding.">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IOMan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/08/15/é€šè¿‡Spring-AOPæ³¨è§£å®ç°å¯¹å¾®ä¿¡å°ç¨‹åºç‰¹æ®Šè¡¨æƒ…emojiçš„å¤„ç†/" itemprop="url">
                  é€šè¿‡Spring AOPæ³¨è§£å®ç°å¯¹å¾®ä¿¡å°ç¨‹åºç‰¹æ®Šè¡¨æƒ…emojiçš„å¤„ç†
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2018-08-15 14:24:12" itemprop="dateCreated datePublished" datetime="2018-08-15T14:24:12+08:00">2018-08-15</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-09-08 07:37:25" itemprop="dateModified" datetime="2018-09-08T07:37:25+08:00">2018-09-08</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Spring-Boot/" itemprop="url" rel="index"><span itemprop="name">Spring Boot</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2018/08/15/é€šè¿‡Spring-AOPæ³¨è§£å®ç°å¯¹å¾®ä¿¡å°ç¨‹åºç‰¹æ®Šè¡¨æƒ…emojiçš„å¤„ç†/#SOHUCS" itemprop="discussionUrl">
                  <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span> <span id="url::http://ioman.cc/2018/08/15/é€šè¿‡Spring-AOPæ³¨è§£å®ç°å¯¹å¾®ä¿¡å°ç¨‹åºç‰¹æ®Šè¡¨æƒ…emojiçš„å¤„ç†/" class="cy_cmt_count" data-xid="2018/08/15/é€šè¿‡Spring-AOPæ³¨è§£å®ç°å¯¹å¾®ä¿¡å°ç¨‹åºç‰¹æ®Šè¡¨æƒ…emojiçš„å¤„ç†/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2018/08/15/é€šè¿‡Spring-AOPæ³¨è§£å®ç°å¯¹å¾®ä¿¡å°ç¨‹åºç‰¹æ®Šè¡¨æƒ…emojiçš„å¤„ç†/" class="leancloud_visitors" data-flag-title="é€šè¿‡Spring AOPæ³¨è§£å®ç°å¯¹å¾®ä¿¡å°ç¨‹åºç‰¹æ®Šè¡¨æƒ…emojiçš„å¤„ç†">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Emoji"><a href="#Emoji" class="headerlink" title="Emoji"></a>Emoji</h3><h4 id="1-Emojiæ˜¯ä»€ä¹ˆ"><a href="#1-Emojiæ˜¯ä»€ä¹ˆ" class="headerlink" title="1. Emojiæ˜¯ä»€ä¹ˆ"></a>1. Emojiæ˜¯ä»€ä¹ˆ</h4><ul>
<li><a href="https://en.wikipedia.org/wiki/Emoji" target="_blank" rel="noopener">Emoji</a>å°±æ˜¯è¡¨æƒ…ç¬¦å·ï¼Œæ¥è‡ªæ—¥è¯­è¯æ±‡â€œçµµæ–‡å­—â€ï¼ˆå‡åä¸ºâ€œãˆã‚‚ã˜â€ï¼Œè¯»éŸ³å³ emojiï¼‰,  e (çµµ, â€œpictureâ€) + moji (æ–‡å­—, â€œcharacterâ€)ã€‚</li>
<li>æœ€æ—©ç”±æ —ç”°ç©°å´‡ï¼ˆShigetaka Kuritaï¼‰åˆ›ä½œï¼Œå¹¶åœ¨æ—¥æœ¬ç½‘ç»œåŠæ‰‹æœºç”¨æˆ·ä¸­æµè¡Œã€‚ è‡ªè‹¹æœå…¬å¸å‘å¸ƒçš„ iOS 5 è¾“å…¥æ³•ä¸­åŠ å…¥äº† emoji åï¼Œè¿™ç§è¡¨æƒ…ç¬¦å·å¼€å§‹å¸­å·å…¨çƒã€‚</li>
<li>ç›®å‰ emoji å·²è¢«å¤§å¤šæ•°ç°ä»£è®¡ç®—æœºç³»ç»Ÿæ‰€å…¼å®¹çš„ Unicode ç¼–ç é‡‡çº³ï¼Œæ™®éåº”ç”¨äºå„ç§æ‰‹æœºçŸ­ä¿¡å’Œç¤¾äº¤ç½‘ç»œä¸­ã€‚</li>
<li>ä¸€ä¸ªemojiè¡¨æƒ…å 4å­—èŠ‚(32ä½)</li>
<li>emojiä¸æ˜¯å›¾ï¼ä¸æ˜¯å›¾ï¼ä¸æ˜¯å›¾ï¼emojiæ˜¯å­—ç¬¦ï¼æ˜¯å­—ç¬¦ï¼æ˜¯å­—ç¬¦ï¼</li>
<li>emojiå¯ä»¥ä»»æ„ç²˜è´´å¤åˆ¶ï¼Œå°±åƒå¤åˆ¶ABC123ä¸€æ ·</li>
</ul>
<h4 id="2-åœ¨Mysqlä¸­ä¿å­˜Emoji"><a href="#2-åœ¨Mysqlä¸­ä¿å­˜Emoji" class="headerlink" title="2. åœ¨Mysqlä¸­ä¿å­˜Emoji"></a>2. åœ¨Mysqlä¸­ä¿å­˜Emoji</h4><p>å¾ˆå¤šäººåœ¨ä½¿ç”¨MYSQLæ—¶éƒ½æ˜¯ä½¿ç”¨çš„utf8å­—ç¬¦é›†ï¼Œutf8åªæ”¯æŒæœ€å¤š3ä¸ªå­—èŠ‚ï¼Œè€Œemojiéœ€è¦4ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥æ— æ³•ç›´æ¥ä¿å­˜ï¼Œç›´æ¥ä¿å­˜ä¼šæŠ¥é”™:<br><code>SQLException: Incorrect string value: &#39;\xF0\x9F\x98\x84&#39; for column &#39;name&#39; at row 1</code></p>
<p><strong>è§£å†³æ–¹æ¡ˆ1ï¼šç›´æ¥è¿‡æ»¤</strong><br>å¾ˆå¤šäººé¢å¯¹é”™è¯¯çš„æ—¶å€™ç¬¬ä¸€æ—¶é—´å°±æ˜¯æƒ³ç€ç›´æ¥æ”¾å¼ƒemojiï¼Œä¸å­˜å‚¨ï¼<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">filter</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (str == <span class="keyword">null</span>) &#123;  </span><br><span class="line">       <span class="keyword">return</span> <span class="keyword">null</span>;  </span><br><span class="line">   &#125;  </span><br><span class="line">   str = str.replaceAll(<span class="string">"[^\\u0000-\\uFFFF]"</span>, <span class="string">""</span>);    </span><br><span class="line">  <span class="keyword">return</span> str;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>è§£å†³æ–¹æ¡ˆ2ï¼šå°†MySQLç¼–ç ä»utf8è½¬æˆutf8mb4</strong></p>
<p>å…¶å®utf8æ˜¯mysqlä¸­çš„ä¸€ä¸ªå‘ï¼Œmysqlä¸­çœŸæ­£çš„utf8åº”è¯¥æ˜¯<code>utf8mb4</code>ï¼Œ utf8åªæ”¯æŒæœ€å¤š3ä¸ªå­—èŠ‚ï¼Œè€ŒçœŸæ­£çš„utf8æ¯ä¸ªå­—ç¬¦æœ€å¤šæ˜¯å››ä¸ªå­—èŠ‚ï¼ŒMySQLä¸€ç›´æ²¡æœ‰ä¿®å¤è¿™ä¸ªbugï¼Œä»–ä»¬åœ¨2010å¹´å‘å¸ƒäº†ä¸€ä¸ªå«åš<code>utf8mb4</code>çš„å­—ç¬¦é›†ï¼Œç»•è¿‡äº†è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯ä»–ä»¬æ²¡æœ‰å¹¿è€Œå‘Šä¹‹ï¼Œä»¥è‡³äºç°åœ¨å¾ˆå¤šå¼€å‘è€…ä»ç„¶åœ¨ä½¿ç”¨utf8, æ‰€ä»¥å¦‚æœå¯ä»¥é€‰æ‹©ï¼Œ<code>æ°¸è¿œä¸è¦åœ¨MySQLä¸­ä½¿ç”¨utf8ï¼Œè€Œåº”è¯¥ç”¨utf8mb4!</code></p>
<p>æ‰€ä»¥å½“æˆ‘ä»¬å­˜å‚¨emojiè¡¨æƒ…çš„æ—¶å€™ï¼Œéœ€è¦å°†utf8è½¬ä¸º<code>utf8mb4</code>ï¼Œ å…·ä½“æ“ä½œå¦‚ä¸‹(<a href="https://mathiasbynens.be/notes/mysql-utf8mb4" target="_blank" rel="noopener">å‚è€ƒ</a>):</p>
<ul>
<li>1.Create a backup</li>
<li>2.Upgrade the MySQL server</li>
<li><p>3.Modify databases, tables, and columns</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># For each database:</span><br><span class="line">ALTER DATABASE database_name CHARACTER SET = utf8mb4 COLLATE = utf8mb4_unicode_ci;</span><br><span class="line"># For each table:</span><br><span class="line">ALTER TABLE table_name CONVERT TO CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</span><br><span class="line"># For each column:</span><br><span class="line">ALTER TABLE table_name CHANGE column_name column_name VARCHAR(191) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;</span><br><span class="line"># (Donâ€™t blindly copy-paste this! The exact statement depends on the column type, maximum length, and other properties. The above line is just an example for a `VARCHAR` column.)</span><br></pre></td></tr></table></figure>
</li>
<li><p>4.Check the maximum length of columns and index keys</p>
</li>
<li>5.Modify connection, client, and server character sets<blockquote>
<p>/etc/my.cnf</p>
</blockquote>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[client]</span><br><span class="line">default-character-set = utf8mb4</span><br><span class="line"></span><br><span class="line">[mysql]</span><br><span class="line">default-character-set = utf8mb4</span><br><span class="line"></span><br><span class="line">[mysqld]</span><br><span class="line">character-set-client-handshake = FALSE</span><br><span class="line">character-set-server = utf8mb4</span><br><span class="line">collation-server = utf8mb4_unicode_ci</span><br></pre></td></tr></table></figure>
<p><strong>éªŒè¯</strong><br><code>SHOW VARIABLES WHERE Variable_name LIKE &#39;character\_set\_%&#39; OR Variable_name LIKE &#39;collation%&#39;;</code></p>
<ul>
<li>6.Repair and optimize all tables</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># For each table</span><br><span class="line">REPAIR TABLE table_name;</span><br><span class="line">OPTIMIZE TABLE table_name;</span><br><span class="line">$ mysqlcheck -u root -p --auto-repair --optimize --all-databases</span><br></pre></td></tr></table></figure>
<p><strong>è§£å†³æ–¹æ¡ˆ3: è½¬æˆhtml</strong><br>emojiçš„ç¼–ç æœ‰2ç§ï¼Œåˆ†åˆ«æ˜¯softbankå’Œunicode, æˆ‘ä»¬é€šè¿‡ç½‘ç»œä¸Šçš„<a href="https://raw.githubusercontent.com/googlei18n/emoji4unicode/master/data/emoji4unicode.xml" target="_blank" rel="noopener">emojiåº“</a>, å°†å¯¹åº”çš„Emojiè½¬æˆ<a href="https://developer.mozilla.org/en-US/docs/Glossary/Entity" target="_blank" rel="noopener">HTML Entity</a>. Html Entityä¸»è¦ç”¨æ¥è½¬ä¹‰æ— æ³•è¢«æ­£å¸¸è¡¨è¿°çš„å­—ç¬¦ï¼Œä»¥&amp;å¼€å¤´ï¼Œåˆ†å·ç»“å°¾ï¼Œæ¯”å¦‚ğŸ” =<code>&amp;#127828;</code>,å¯ä»¥é€šè¿‡ <a href="http://www.amp-what.com/unicode/search/" target="_blank" rel="noopener">amp-what</a> è¿›è¡Œè½¬ä¹‰æŸ¥è¯¢</p>
<h3 id="è‡ªå®šä¹‰Spring-AOPæ³¨è§£"><a href="#è‡ªå®šä¹‰Spring-AOPæ³¨è§£" class="headerlink" title="è‡ªå®šä¹‰Spring AOPæ³¨è§£"></a>è‡ªå®šä¹‰Spring AOPæ³¨è§£</h3><blockquote>
<p>æˆ‘ä»¬é‡‡ç”¨ä¸Šè¿°çš„æ–¹æ¡ˆ3è§£å†³ï¼Œé€šè¿‡åŠ å…¥<strong>AOPæ³¨è§£</strong>çš„æ–¹å¼ï¼Œå¯¹æ–¹æ³•å‚æ•°è‡ªåŠ¨è¿›è¡Œè½¬ä¹‰ï¼Œæˆ–è€…å¯¹è¿”å›ç»“æœè‡ªåŠ¨è¿›è¡Œè½¬ä¹‰ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬å°†åˆ›å»º2ä¸ªæ³¨è§£ï¼Œ<code>Emoji2Html</code>å’Œ<code>Emoji2Unicode</code>åˆ†åˆ«å°†Emojiè½¬ä¸ºHtmlï¼Œå°†Htmlè½¬ä¸ºUnicode.</p>
<h4 id="1-åˆ›å»ºæ³¨è§£"><a href="#1-åˆ›å»ºæ³¨è§£" class="headerlink" title="1.åˆ›å»ºæ³¨è§£"></a>1.åˆ›å»ºæ³¨è§£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target</span>(ElementType.METHOD)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Emoji2Html &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target</span>(ElementType.METHOD)</span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Emoji2Unicode &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-åˆ›å»ºAspect"><a href="#2-åˆ›å»ºAspect" class="headerlink" title="2.åˆ›å»ºAspect"></a>2.åˆ›å»ºAspect</h4><p>è¿™é‡Œæˆ‘ä»¬åˆ©ç”¨Githubä¸Šçš„ä¸€ä¸ª<a href="https://github.com/binarywang/java-emoji-converter" target="_blank" rel="noopener">ç¬¬ä¸‰æ–¹Emojiå¤„ç†å·¥å…·</a>, æˆ‘ä»¬ç”¨Aspectçš„<code>@Around</code>å’Œ<code>@AfterReturning</code>åˆ†åˆ«å¯¹å‚æ•°å’Œè¿”å›å€¼è¿›è¡Œå¤„ç†ï¼Œå¹¶ä¸”ç”¨<code>@annotation</code>ç»‘å®šä¸Šæˆ‘ä»¬å®šä¹‰çš„2ä¸ªæ³¨è§£</p>
<p><code>Emoji2Html</code>æ³¨è§£é€šè¿‡å¯¹æ–¹æ³•çš„å‚æ•°è¿›è¡Œè½¬æ¢, å½“å‚æ•°ç±»å‹ä¸º<code>String</code>æˆ–<code>Collection</code>æ—¶è¿›è¡Œhtmlè½¬ä¹‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Around</span>(<span class="string">"@annotation(EmojiToHtml)"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">toHtmlPoint</span><span class="params">(ProceedingJoinPoint jp)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        Object[] args = jp.getArgs();</span><br><span class="line">        <span class="comment">//å¦‚æœæ— å‚æ•°ï¼Œç›´æ¥æ‰§è¡Œåè¿”å›</span></span><br><span class="line">        <span class="keyword">if</span>(args == <span class="keyword">null</span> || args.length == <span class="number">0</span>) <span class="keyword">return</span> jp.proceed();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æœ‰å‚æ•°ï¼Œå°†å­—ç¬¦ä¸²å‚æ•°è¿›è¡Œè½¬æ¢åæ‰§è¡Œè¿”å›</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; args.length; i++) &#123;</span><br><span class="line"></span><br><span class="line">            Object arg = args[i];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(arg <span class="keyword">instanceof</span> String)&#123;</span><br><span class="line">                args[i] = EmojiConverter.getInstance().toHtml((String)args[i]);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (arg <span class="keyword">instanceof</span> Integer || arg <span class="keyword">instanceof</span> Long || arg <span class="keyword">instanceof</span> Float || arg <span class="keyword">instanceof</span> Double || arg <span class="keyword">instanceof</span> Boolean) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span>(arg <span class="keyword">instanceof</span> Collection&lt;?&gt;)&#123;</span><br><span class="line">                Iterator&lt;?&gt; iter = ((Collection) arg).iterator();</span><br><span class="line">                <span class="keyword">while</span>(iter.hasNext())&#123;</span><br><span class="line">                    <span class="keyword">this</span>.checkObjectEmoji(iter.next(), <span class="keyword">false</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">this</span>.checkObjectEmoji(arg, <span class="keyword">false</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Object rvt = jp.proceed(args);</span><br><span class="line">        <span class="keyword">return</span> rvt;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p><code>toUnicodePoint</code>æ–¹æ³•æˆ‘ä»¬å¯¹è¿”å›å€¼è¿›è¡Œè½¬æ¢</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@AfterReturning</span>(returning = <span class="string">"obj"</span>, pointcut = <span class="string">"@annotation(Emoji2Unicode)"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">toUnicodePoint</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (obj == <span class="keyword">null</span>) <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> String) &#123;</span><br><span class="line">            obj = EmojiConverter.getInstance().toUnicode((String) obj);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> Integer || obj <span class="keyword">instanceof</span> Long || obj <span class="keyword">instanceof</span> Float || obj <span class="keyword">instanceof</span> Double || obj <span class="keyword">instanceof</span> Boolean) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> Collection&lt;?&gt;)&#123;</span><br><span class="line"></span><br><span class="line">            Iterator&lt;?&gt; iter = ((Collection) obj).iterator();</span><br><span class="line">            <span class="keyword">while</span>(iter.hasNext())&#123;</span><br><span class="line">                <span class="keyword">this</span>.checkObjectEmoji(iter.next(), <span class="keyword">true</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> Map&lt;?, ?&gt;)&#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.checkObjectEmoji(obj, <span class="keyword">true</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬çš„æ³¨è§£å°±èƒ½ç”¨äº†ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬æƒ³è¦ä½¿ç”¨çš„æ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£å³å¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LogService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@EmojiToHtml</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        System.out.println(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Emoji</span>2Unicode</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="å‚è€ƒèµ„æ–™ï¼š"><a href="#å‚è€ƒèµ„æ–™ï¼š" class="headerlink" title="å‚è€ƒèµ„æ–™ï¼š"></a>å‚è€ƒèµ„æ–™ï¼š</h3><ol>
<li><a href="https://emojipedia.org/" target="_blank" rel="noopener">Emojipedia</a></li>
<li><a href="https://www.kirupa.com/html5/emoji.htm" target="_blank" rel="noopener">Using Emojis in HTML, CSS, and JavaScript</a></li>
<li><a href="https://www.baeldung.com/spring-aop-annotation" target="_blank" rel="noopener">Implementing a Custom Spring AOP Annotation</a></li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ioman.cc/2017/11/15/Spring-å¸¸ç”¨é…ç½®/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mario">
      <meta itemprop="description" content="Life is so short, do something to make yourself happy, such as coding.">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IOMan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/11/15/Spring-å¸¸ç”¨é…ç½®/" itemprop="url">
                  Spring å¸¸ç”¨é…ç½®
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2017-11-15 23:37:16" itemprop="dateCreated datePublished" datetime="2017-11-15T23:37:16+08:00">2017-11-15</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-08-15 10:22:46" itemprop="dateModified" datetime="2018-08-15T10:22:46+08:00">2018-08-15</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Spring/" itemprop="url" rel="index"><span itemprop="name">Spring</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/11/15/Spring-å¸¸ç”¨é…ç½®/#SOHUCS" itemprop="discussionUrl">
                  <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span> <span id="url::http://ioman.cc/2017/11/15/Spring-å¸¸ç”¨é…ç½®/" class="cy_cmt_count" data-xid="2017/11/15/Spring-å¸¸ç”¨é…ç½®/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2017/11/15/Spring-å¸¸ç”¨é…ç½®/" class="leancloud_visitors" data-flag-title="Spring å¸¸ç”¨é…ç½®">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Beançš„Scope"><a href="#Beançš„Scope" class="headerlink" title="Beançš„Scope"></a>Beançš„Scope</h2><p>Scopeæè¿°çš„æ˜¯Springå®¹å™¨å¦‚ä½•æ–°å»ºBeanå®ä¾‹çš„ã€‚Springçš„Scopeé€šè¿‡<code>@Scope</code>æ³¨è§£æ¥å®ç°ã€‚åŒ…å«ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š</p>
<ul>
<li>@Singleton : ä¸€ä¸ªSpringå®¹å™¨åªæœ‰ä¸€ä¸ªBeançš„å®ä¾‹ï¼Œæ­¤ä¸ºé»˜è®¤é…ç½®</li>
<li>@Prototype: æ¯æ¬¡è°ƒç”¨æ–°å»ºä¸€ä¸ªBeançš„å®ä¾‹</li>
<li>@Request: Webé¡¹ç›®ä¸­ï¼Œæ¯ä¸ªhttp requestæ–°å¢ä¸€ä¸ªBeanå®ä¾‹</li>
<li>@Session: Webé¡¹ç›®ä¸­, æ¯ä¸ªhttp sessionæ–°å»ºä¸€ä¸ªBeanå®ä¾‹</li>
<li>@GlobalSession: è¿™ä¸ªåªåœ¨portalåº”ç”¨ä¸­æœ‰, ç»™æ¯ä¸€ä¸ªglobal http sessionæ–°å»ºä¸€ä¸ªBeanå®ä¾‹</li>
</ul>
<h2 id="Spring-ELè¡¨è¾¾å¼"><a href="#Spring-ELè¡¨è¾¾å¼" class="headerlink" title="Spring ELè¡¨è¾¾å¼"></a>Spring ELè¡¨è¾¾å¼</h2><p>springçš„EL-Springè¡¨è¾¾å¼ä¸»è¦ç”¨äº<code>@Value</code>çš„å‚æ•°ä¸­ä½¿ç”¨ï¼ŒåŒ…å«ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p>
<p><strong>æ³¨å…¥æ™®é€šå­—ç¬¦</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@Value(â€œI Love You!â€)</span><br><span class="line">private String normal;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨å…¥æ“ä½œç³»ç»Ÿå±æ€§</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@Value(â€œ#&#123;systemProperties[â€˜os.nameâ€™]&#125;â€)</span><br><span class="line">private String osName;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨å…¥è¡¨è¾¾å¼è¿ç®—ç»“æœ</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@Value(â€œ#&#123; T(java.lang.Math).random() * 100.0 &#125;â€)</span><br><span class="line">private double randomNumber;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨å…¥å…¶ä»–Beançš„å±æ€§</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@Value(â€œ#&#123;demoService.another&#125;â€)</span><br><span class="line">private String fromAnother;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨å…¥æ–‡ä»¶å†…å®¹</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@Value(â€œclasspath:com/lewis/el/test.txtâ€)</span><br><span class="line">private Resource testFile;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨å…¥ç½‘å€å†…å®¹</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@Value(â€œhttp://www.baidu.comâ€)</span><br><span class="line">private Resource testUrl;</span><br></pre></td></tr></table></figure>
<p><strong>æ³¨å…¥å±æ€§æ–‡ä»¶</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@Value(â€œ$&#123;book.name&#125;â€)</span><br><span class="line">private String bookName;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ioman.cc/2017/07/10/ä¸ƒç‰›JavaSDK/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mario">
      <meta itemprop="description" content="Life is so short, do something to make yourself happy, such as coding.">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IOMan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/10/ä¸ƒç‰›JavaSDK/" itemprop="url">
                  ä¸ƒç‰›JavaSDK
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2017-07-10 10:58:30" itemprop="dateCreated datePublished" datetime="2017-07-10T10:58:30+08:00">2017-07-10</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-08-15 10:22:46" itemprop="dateModified" datetime="2018-08-15T10:22:46+08:00">2018-08-15</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/æŠ€æœ¯/" itemprop="url" rel="index"><span itemprop="name">æŠ€æœ¯</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/07/10/ä¸ƒç‰›JavaSDK/#SOHUCS" itemprop="discussionUrl">
                  <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span> <span id="url::http://ioman.cc/2017/07/10/ä¸ƒç‰›JavaSDK/" class="cy_cmt_count" data-xid="2017/07/10/ä¸ƒç‰›JavaSDK/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2017/07/10/ä¸ƒç‰›JavaSDK/" class="leancloud_visitors" data-flag-title="ä¸ƒç‰›JavaSDK">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p><a href="https://developer.qiniu.com/kodo/sdk/1239/java" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
<p>Java SDK å±äºä¸ƒç‰›æœåŠ¡ç«¯SDKä¹‹ä¸€ï¼Œä¸»è¦æœ‰å¦‚ä¸‹åŠŸèƒ½ï¼š</p>
<ol>
<li>æä¾›ç”Ÿæˆå®¢æˆ·ç«¯ä¸Šä¼ æ‰€éœ€çš„ä¸Šä¼ å‡­è¯çš„åŠŸèƒ½</li>
<li>æä¾›æ–‡ä»¶ä»æœåŠ¡ç«¯ç›´æ¥ä¸Šä¼ ä¸ƒç‰›çš„åŠŸèƒ½</li>
<li>æä¾›å¯¹ä¸ƒç‰›ç©ºé—´ä¸­æ–‡ä»¶è¿›è¡Œç®¡ç†çš„åŠŸèƒ½</li>
<li>æä¾›å¯¹ä¸ƒç‰›ç©ºé—´ä¸­æ–‡ä»¶è¿›è¡Œå¤„ç†çš„åŠŸèƒ½</li>
<li>æä¾›ä¸ƒç‰›CDNç›¸å…³çš„åˆ·æ–°ï¼Œé¢„å–ï¼Œæ—¥å¿—åŠŸèƒ½</li>
</ol>
<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p><strong>Gradle</strong></p>
<p>compile â€˜com.qiniu:qiniu-java-sdk:7.2.+â€™</p>
<p><strong>Maven</strong></p>
<dependency><br>  <groupid>com.qiniu</groupid><br>  <artifactid>qiniu-java-sdk</artifactid><br>  <version>[7.2.0, 7.2.99]</version><br></dependency>


<h3 id="é‰´æƒ"><a href="#é‰´æƒ" class="headerlink" title="é‰´æƒ"></a>é‰´æƒ</h3><p>ä¸ƒç‰›è´¦å·éœ€è¦é€šè¿‡ä¸€å¯¹å¯†é’¥è®¿é—®, åˆ†åˆ«æ˜¯<code>Access Key</code>å’Œ<code>Secret Key</code>, å¯åœ¨ç½‘ç«™çš„<strong>ä¸ªäººä¸­å¿ƒ-&gt;å¯†é’¥ç®¡ç†</strong>ä¸­æŸ¥çœ‹</p>
<h3 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h3><p>ä¸Šä¼ éœ€è¦å‡ ä¸ªåŸºæœ¬å‚æ•°ï¼š<code>AccessKey</code>, <code>SecretKey</code>, <code>bucket</code>, <code>Key</code></p>
<p><code>AccessKey</code>: ä¸ªäººä¸­å¿ƒ-&gt;å¯†é’¥ç®¡ç†ä¸­è·å–<br><code>SecretKey</code>: ä¸ªäººä¸­å¿ƒ-&gt;å¯†é’¥ç®¡ç†ä¸­è·å–<br><code>bucket</code>: ä¸ƒç‰›ä¸­çš„å­˜å‚¨ç©ºé—´åç§°<br><code>Key</code>: å›¾ç‰‡æ–‡ä»¶åç§°</p>
<p>è¯·æ±‚è¿”å›å€¼ï¼ŒåŒ…å«<code>Key</code>å’Œ<code>Hash</code>ï¼Œå¦‚æœä¸å¸¦keyå€¼ï¼Œåˆ™ä¸¤ä¸ªå€¼ä¸€æ ·, è¯·æ±‚çš„æ—¶å€™ç”¨Url+Keyè®¿é—®ã€‚</p>
<h4 id="å®¢æˆ·ç«¯ä¸Šä¼ "><a href="#å®¢æˆ·ç«¯ä¸Šä¼ " class="headerlink" title="å®¢æˆ·ç«¯ä¸Šä¼ "></a>å®¢æˆ·ç«¯ä¸Šä¼ </h4><p>APPç«¯ã€Webç«¯å¦‚æœè¦ä¸Šä¼ å›¾ç‰‡ï¼Œéœ€è¦å‘æœåŠ¡ç«¯è¯·æ±‚tokenï¼Œ è¯·æ±‚æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">String accessKey = <span class="string">"access key"</span>;</span><br><span class="line">String secretKey = <span class="string">"secret key"</span>;</span><br><span class="line">String bucket = <span class="string">"bucket name"</span>;</span><br><span class="line"></span><br><span class="line">Auth auth = Auth.create(accessKey, secretKey);</span><br><span class="line">String upToken = auth.uploadToken(bucket);</span><br><span class="line">System.out.println(upToken);</span><br></pre></td></tr></table></figure>
<p>å®¢æˆ·ç«¯æ‹¿åˆ°<code>token</code>ä¹‹åï¼Œé€šè¿‡<code>post</code>è¯·æ±‚<code>http://upload.qiniu.com/</code>ï¼Œä¸Šä¼ æ–‡ä»¶å’Œ<code>token</code>å‚æ•°å³å¯ã€‚</p>
<h4 id="æœåŠ¡ç«¯ä¸Šä¼ "><a href="#æœåŠ¡ç«¯ä¸Šä¼ " class="headerlink" title="æœåŠ¡ç«¯ä¸Šä¼ "></a>æœåŠ¡ç«¯ä¸Šä¼ </h4><h5 id="æ–‡ä»¶ä¸Šä¼ -1"><a href="#æ–‡ä»¶ä¸Šä¼ -1" class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®šZoneå¯¹è±¡çš„é…ç½®ç±»</span></span><br><span class="line">Configuration cfg = <span class="keyword">new</span> Configuration(Zone.zone0());</span><br><span class="line"><span class="comment">//...å…¶ä»–å‚æ•°å‚è€ƒç±»æ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line">UploadManager uploadManager = <span class="keyword">new</span> UploadManager(cfg);</span><br><span class="line"><span class="comment">//...ç”Ÿæˆä¸Šä¼ å‡­è¯ï¼Œç„¶åå‡†å¤‡ä¸Šä¼ </span></span><br><span class="line">String accessKey = <span class="string">"your access key"</span>;</span><br><span class="line">String secretKey = <span class="string">"your secret key"</span>;</span><br><span class="line">String bucket = <span class="string">"your bucket name"</span>;</span><br><span class="line"><span class="comment">//å¦‚æœæ˜¯Windowsæƒ…å†µä¸‹ï¼Œæ ¼å¼æ˜¯ D:\\qiniu\\test.png</span></span><br><span class="line">String localFilePath = <span class="string">"/home/qiniu/test.png"</span>;</span><br><span class="line"><span class="comment">//é»˜è®¤ä¸æŒ‡å®škeyçš„æƒ…å†µä¸‹ï¼Œä»¥æ–‡ä»¶å†…å®¹çš„hashå€¼ä½œä¸ºæ–‡ä»¶å</span></span><br><span class="line">String key = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">Auth auth = Auth.create(accessKey, secretKey);</span><br><span class="line">String upToken = auth.uploadToken(bucket);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Response response = uploadManager.put(localFilePath, key, upToken);</span><br><span class="line">    <span class="comment">//è§£æä¸Šä¼ æˆåŠŸçš„ç»“æœ</span></span><br><span class="line">    DefaultPutRet putRet = <span class="keyword">new</span> Gson().fromJson(response.bodyString(), DefaultPutRet.class);</span><br><span class="line">    System.out.println(putRet.key);</span><br><span class="line">    System.out.println(putRet.hash);</span><br><span class="line">&#125; <span class="keyword">catch</span> (QiniuException ex) &#123;</span><br><span class="line">    Response r = ex.response;</span><br><span class="line">    System.err.println(r.toString());</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        System.err.println(r.bodyString());</span><br><span class="line">    &#125; <span class="keyword">catch</span> (QiniuException ex2) &#123;</span><br><span class="line">        <span class="comment">//ignore</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="å­—èŠ‚æ•°ç»„ä¸Šä¼ "><a href="#å­—èŠ‚æ•°ç»„ä¸Šä¼ " class="headerlink" title="å­—èŠ‚æ•°ç»„ä¸Šä¼ "></a>å­—èŠ‚æ•°ç»„ä¸Šä¼ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®šZoneå¯¹è±¡çš„é…ç½®ç±»</span></span><br><span class="line">Configuration cfg = <span class="keyword">new</span> Configuration(Zone.zone0());</span><br><span class="line"><span class="comment">//...å…¶ä»–å‚æ•°å‚è€ƒç±»æ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line">UploadManager uploadManager = <span class="keyword">new</span> UploadManager(cfg);</span><br><span class="line"><span class="comment">//...ç”Ÿæˆä¸Šä¼ å‡­è¯ï¼Œç„¶åå‡†å¤‡ä¸Šä¼ </span></span><br><span class="line">String accessKey = <span class="string">"your access key"</span>;</span><br><span class="line">String secretKey = <span class="string">"your secret key"</span>;</span><br><span class="line">String bucket = <span class="string">"your bucket name"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é»˜è®¤ä¸æŒ‡å®škeyçš„æƒ…å†µä¸‹ï¼Œä»¥æ–‡ä»¶å†…å®¹çš„hashå€¼ä½œä¸ºæ–‡ä»¶å</span></span><br><span class="line">String key = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">byte</span>[] uploadBytes = <span class="string">"hello qiniu cloud"</span>.getBytes(<span class="string">"utf-8"</span>);</span><br><span class="line">    Auth auth = Auth.create(accessKey, secretKey);</span><br><span class="line">    String upToken = auth.uploadToken(bucket);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Response response = uploadManager.put(uploadBytes, key, upToken);</span><br><span class="line">        <span class="comment">//è§£æä¸Šä¼ æˆåŠŸçš„ç»“æœ</span></span><br><span class="line">        DefaultPutRet putRet = <span class="keyword">new</span> Gson().fromJson(response.bodyString(), DefaultPutRet.class);</span><br><span class="line">        System.out.println(putRet.key);</span><br><span class="line">        System.out.println(putRet.hash);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (QiniuException ex) &#123;</span><br><span class="line">        Response r = ex.response;</span><br><span class="line">        System.err.println(r.toString());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.err.println(r.bodyString());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (QiniuException ex2) &#123;</span><br><span class="line">            <span class="comment">//ignore</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (UnsupportedEncodingException ex) &#123;</span><br><span class="line">    <span class="comment">//ignore</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="æ•°æ®æµä¸Šä¼ "><a href="#æ•°æ®æµä¸Šä¼ " class="headerlink" title="æ•°æ®æµä¸Šä¼ "></a>æ•°æ®æµä¸Šä¼ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®šZoneå¯¹è±¡çš„é…ç½®ç±»</span></span><br><span class="line">Configuration cfg = <span class="keyword">new</span> Configuration(Zone.zone0());</span><br><span class="line"><span class="comment">//...å…¶ä»–å‚æ•°å‚è€ƒç±»æ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line">UploadManager uploadManager = <span class="keyword">new</span> UploadManager(cfg);</span><br><span class="line"><span class="comment">//...ç”Ÿæˆä¸Šä¼ å‡­è¯ï¼Œç„¶åå‡†å¤‡ä¸Šä¼ </span></span><br><span class="line">String accessKey = <span class="string">"your access key"</span>;</span><br><span class="line">String secretKey = <span class="string">"your secret key"</span>;</span><br><span class="line">String bucket = <span class="string">"your bucket name"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é»˜è®¤ä¸æŒ‡å®škeyçš„æƒ…å†µä¸‹ï¼Œä»¥æ–‡ä»¶å†…å®¹çš„hashå€¼ä½œä¸ºæ–‡ä»¶å</span></span><br><span class="line">String key = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">byte</span>[] uploadBytes = <span class="string">"hello qiniu cloud"</span>.getBytes(<span class="string">"utf-8"</span>);</span><br><span class="line">    ByteArrayInputStream byteInputStream=<span class="keyword">new</span> ByteArrayInputStream(uploadBytes);</span><br><span class="line">    Auth auth = Auth.create(accessKey, secretKey);</span><br><span class="line">    String upToken = auth.uploadToken(bucket);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Response response = uploadManager.put(byteInputStream,key,upToken,<span class="keyword">null</span>, <span class="keyword">null</span>);</span><br><span class="line">        <span class="comment">//è§£æä¸Šä¼ æˆåŠŸçš„ç»“æœ</span></span><br><span class="line">        DefaultPutRet putRet = <span class="keyword">new</span> Gson().fromJson(response.bodyString(), DefaultPutRet.class);</span><br><span class="line">        System.out.println(putRet.key);</span><br><span class="line">        System.out.println(putRet.hash);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (QiniuException ex) &#123;</span><br><span class="line">        Response r = ex.response;</span><br><span class="line">        System.err.println(r.toString());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.err.println(r.bodyString());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (QiniuException ex2) &#123;</span><br><span class="line">            <span class="comment">//ignore</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (UnsupportedEncodingException ex) &#123;</span><br><span class="line">    <span class="comment">//ignore</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="æ–­ç”µç»­ä¼ "><a href="#æ–­ç”µç»­ä¼ " class="headerlink" title="æ–­ç”µç»­ä¼ "></a>æ–­ç”µç»­ä¼ </h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®šZoneå¯¹è±¡çš„é…ç½®ç±»</span></span><br><span class="line">Configuration cfg = <span class="keyword">new</span> Configuration(Zone.zone0());</span><br><span class="line"><span class="comment">//...å…¶ä»–å‚æ•°å‚è€ƒç±»æ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//...ç”Ÿæˆä¸Šä¼ å‡­è¯ï¼Œç„¶åå‡†å¤‡ä¸Šä¼ </span></span><br><span class="line">String accessKey = <span class="string">"your access key"</span>;</span><br><span class="line">String secretKey = <span class="string">"your secret key"</span>;</span><br><span class="line">String bucket = <span class="string">"your bucket name"</span>;</span><br><span class="line"><span class="comment">//å¦‚æœæ˜¯Windowsæƒ…å†µä¸‹ï¼Œæ ¼å¼æ˜¯ D:\\qiniu\\test.png</span></span><br><span class="line">String localFilePath = <span class="string">"/home/qiniu/test.mp4"</span>;</span><br><span class="line"><span class="comment">//é»˜è®¤ä¸æŒ‡å®škeyçš„æƒ…å†µä¸‹ï¼Œä»¥æ–‡ä»¶å†…å®¹çš„hashå€¼ä½œä¸ºæ–‡ä»¶å</span></span><br><span class="line">String key = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">Auth auth = Auth.create(accessKey, secretKey);</span><br><span class="line">String upToken = auth.uploadToken(bucket);</span><br><span class="line"></span><br><span class="line">String localTempDir = Paths.get(System.getenv(<span class="string">"java.io.tmpdir"</span>), bucket).toString();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">//è®¾ç½®æ–­ç‚¹ç»­ä¼ æ–‡ä»¶è¿›åº¦ä¿å­˜ç›®å½•</span></span><br><span class="line">    FileRecorder fileRecorder = <span class="keyword">new</span> FileRecorder(localTempDir);</span><br><span class="line">    UploadManager uploadManager = <span class="keyword">new</span> UploadManager(cfg, fileRecorder);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Response response = uploadManager.put(localFilePath, key, upToken);</span><br><span class="line">        <span class="comment">//è§£æä¸Šä¼ æˆåŠŸçš„ç»“æœ</span></span><br><span class="line">        DefaultPutRet putRet = <span class="keyword">new</span> Gson().fromJson(response.bodyString(), DefaultPutRet.class);</span><br><span class="line">        System.out.println(putRet.key);</span><br><span class="line">        System.out.println(putRet.hash);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (QiniuException ex) &#123;</span><br><span class="line">        Response r = ex.response;</span><br><span class="line">        System.err.println(r.toString());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.err.println(r.bodyString());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (QiniuException ex2) &#123;</span><br><span class="line">            <span class="comment">//ignore</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException ex) &#123;</span><br><span class="line">    ex.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ioman.cc/2017/07/01/æœ‰æ•ˆç®¡ç†ä½ çš„å¥åº·-å¾—åˆ°APP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mario">
      <meta itemprop="description" content="Life is so short, do something to make yourself happy, such as coding.">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IOMan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/01/æœ‰æ•ˆç®¡ç†ä½ çš„å¥åº·-å¾—åˆ°APP/" itemprop="url">
                  æœ‰æ•ˆç®¡ç†ä½ çš„å¥åº·-å¾—åˆ°APP
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2017-07-01 09:26:44" itemprop="dateCreated datePublished" datetime="2017-07-01T09:26:44+08:00">2017-07-01</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-08-15 10:22:46" itemprop="dateModified" datetime="2018-08-15T10:22:46+08:00">2018-08-15</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/è¯»ä¹¦ç¬”è®°/" itemprop="url" rel="index"><span itemprop="name">è¯»ä¹¦ç¬”è®°</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/07/01/æœ‰æ•ˆç®¡ç†ä½ çš„å¥åº·-å¾—åˆ°APP/#SOHUCS" itemprop="discussionUrl">
                  <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span> <span id="url::http://ioman.cc/2017/07/01/æœ‰æ•ˆç®¡ç†ä½ çš„å¥åº·-å¾—åˆ°APP/" class="cy_cmt_count" data-xid="2017/07/01/æœ‰æ•ˆç®¡ç†ä½ çš„å¥åº·-å¾—åˆ°APP/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2017/07/01/æœ‰æ•ˆç®¡ç†ä½ çš„å¥åº·-å¾—åˆ°APP/" class="leancloud_visitors" data-flag-title="æœ‰æ•ˆç®¡ç†ä½ çš„å¥åº·-å¾—åˆ°APP">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="å¿ƒè‚ºåŠŸèƒ½æ˜¯ä¸€åˆ‡çš„åŸºç¡€"><a href="#å¿ƒè‚ºåŠŸèƒ½æ˜¯ä¸€åˆ‡çš„åŸºç¡€" class="headerlink" title="å¿ƒè‚ºåŠŸèƒ½æ˜¯ä¸€åˆ‡çš„åŸºç¡€"></a>å¿ƒè‚ºåŠŸèƒ½æ˜¯ä¸€åˆ‡çš„åŸºç¡€</h3><h4 id="1-å»ºè®®"><a href="#1-å»ºè®®" class="headerlink" title="1. å»ºè®®"></a>1. å»ºè®®</h4><p>è¿åŠ¨å’Œå¥èº«çš„é¦–è¦ç›®çš„æ˜¯è·å¾—æ›´å¥½çš„ç²¾ç¥çŠ¶æ€å’Œæ›´å¥åº·çš„èº«ä½“ï¼Œè€Œä¸æ˜¯æ›´ç˜¦çš„èº«ä½“å’Œæ›´å¤šçš„è‚Œè‚‰ï¼Œä¸å»ºè®®æ™®é€šäººä¸€ä¸Šæ¥å°±åšé«˜å¼ºåº¦è®­ç»ƒæˆ–è·‘æ­¥ </p>
<h4 id="2-å¿ƒè‚ºåŠŸèƒ½æ˜¯ä¸€åˆ‡çš„åŸºç¡€"><a href="#2-å¿ƒè‚ºåŠŸèƒ½æ˜¯ä¸€åˆ‡çš„åŸºç¡€" class="headerlink" title="2. å¿ƒè‚ºåŠŸèƒ½æ˜¯ä¸€åˆ‡çš„åŸºç¡€"></a>2. å¿ƒè‚ºåŠŸèƒ½æ˜¯ä¸€åˆ‡çš„åŸºç¡€</h4><ul>
<li>æ¯ä¸ªäººå¿ƒè‚ºåŠŸèƒ½çš„å…ˆå¤©å·®å¼‚å¾ˆå¤§ï¼Œä½†æ˜¯é€šè¿‡åå¤©è®­ç»ƒèƒ½å¤Ÿå¾—åˆ°æ”¹å–„  </li>
<li>æœ€å¤§æ‘„æ°§é‡æ˜¯è¡¡é‡å¿ƒè‚ºåŠŸèƒ½çš„é‡è¦æŒ‡æ ‡ï¼Œç”·æ€§éœ€è¾¾åˆ°40ï¼Œå¥³æ€§éœ€è¾¾åˆ°36ï¼Œ30å·¦å³æœ‰å¾ˆå¤§çš„å¥åº·é£é™©ï¼›</li>
<li>é€šè¿‡åˆç†å¼ºåº¦çš„å¿ƒè‚ºåŠŸèƒ½è®­ç»ƒï¼Œå¯ä»¥æ”¹å–„å¿ƒè¡€ç®¡ç³»ç»Ÿ</li>
</ul>
<h4 id="3-å¿ƒè‚ºåŠŸèƒ½è®­ç»ƒ"><a href="#3-å¿ƒè‚ºåŠŸèƒ½è®­ç»ƒ" class="headerlink" title="3. å¿ƒè‚ºåŠŸèƒ½è®­ç»ƒ"></a>3. å¿ƒè‚ºåŠŸèƒ½è®­ç»ƒ</h4><ul>
<li>å…ˆè¦äº†è§£è‡ªå·±çš„å¿ƒè‚ºåŠŸèƒ½ï¼Œæµ‹é‡æœ€å¤§æ‘„æ°§é‡æˆ–é™æ€å¿ƒç‡</li>
<li>åˆ©ç”¨å¡æ°å…¬å¼ï¼Œæ‰¾å‡†è‡ªå·±çš„å¿ƒè‚ºåŠŸèƒ½è®­ç»ƒåŒºé—´<br><strong>é€‚åˆå¿ƒè‚ºåŠŸèƒ½è®­ç»ƒçš„å¡æ°å…¬å¼</strong>ï¼š<code>å¿ƒè‚ºè®­ç»ƒå¿ƒç‡ = (220 âˆ’ å¹´é¾„ âˆ’ é™æ€å¿ƒç‡) Ã— (55%~65%) + é™æ€å¿ƒç‡</code>  </li>
<li>ä¿æŒåœ¨é€‚åˆå¿ƒè‚ºè®­ç»ƒçš„å¿ƒç‡åŒºé—´ï¼Œèµ°è·¯æ˜¯æœ€ä½³çš„å¿ƒè‚ºè®­ç»ƒæ–¹æ³•ï¼Œå°¤å…¶æ¨èåœ¨è·‘æ­¥æœºä¸Šåšä¸Šå¡èµ°</li>
<li>å¿ƒè‚ºåŠŸèƒ½è®­ç»ƒå¹¶ä¸éœ€è¦é•¿æ—¶é—´è¿ç»­åšï¼Œåšä¸€å¤©æ­‡ä¸€å¤©æ•ˆæœæ›´ä½³</li>
</ul>
<h4 id="4-è®­ç»ƒä¸ç¡çœ "><a href="#4-è®­ç»ƒä¸ç¡çœ " class="headerlink" title="4. è®­ç»ƒä¸ç¡çœ "></a>4. è®­ç»ƒä¸ç¡çœ </h4><ul>
<li>å¿ƒè‚ºåŠŸèƒ½è®­ç»ƒå¯ä»¥æ”¹å–„ç¡çœ è´¨é‡</li>
<li>ç¡çœ è´¨é‡å¾ˆå·®ï¼Œä¸è¦åšé«˜å¼ºåº¦è®­ç»ƒï¼Œèˆ’ç¼“çš„æ…¢èµ°å’Œç‘œä¼½æ›´é€‚åˆ</li>
</ul>
<h3 id="å¦‚ä½•ç§‘å­¦æœ‰æ•ˆçš„å‡è‚¥"><a href="#å¦‚ä½•ç§‘å­¦æœ‰æ•ˆçš„å‡è‚¥" class="headerlink" title="å¦‚ä½•ç§‘å­¦æœ‰æ•ˆçš„å‡è‚¥"></a>å¦‚ä½•ç§‘å­¦æœ‰æ•ˆçš„å‡è‚¥</h3><h4 id="1-ä¸‰å¤§å¸¸ç”¨çš„å‡è‚¥æ–¹æ³•å¯¹å‡è‚¥å‡ ä¹æ²¡æœ‰å¸®åŠ©ï¼Œå‡è‚¥åº”è¯¥å°½å¯èƒ½å»æ¶ˆè€—è„‚è‚ª"><a href="#1-ä¸‰å¤§å¸¸ç”¨çš„å‡è‚¥æ–¹æ³•å¯¹å‡è‚¥å‡ ä¹æ²¡æœ‰å¸®åŠ©ï¼Œå‡è‚¥åº”è¯¥å°½å¯èƒ½å»æ¶ˆè€—è„‚è‚ª" class="headerlink" title="1. ä¸‰å¤§å¸¸ç”¨çš„å‡è‚¥æ–¹æ³•å¯¹å‡è‚¥å‡ ä¹æ²¡æœ‰å¸®åŠ©ï¼Œå‡è‚¥åº”è¯¥å°½å¯èƒ½å»æ¶ˆè€—è„‚è‚ª"></a>1. ä¸‰å¤§å¸¸ç”¨çš„å‡è‚¥æ–¹æ³•å¯¹å‡è‚¥å‡ ä¹æ²¡æœ‰å¸®åŠ©ï¼Œå‡è‚¥åº”è¯¥å°½å¯èƒ½å»æ¶ˆè€—è„‚è‚ª</h4><ul>
<li>è¯¯åŒºä¸€ï¼šå¢è‚Œå‡è‚¥ã€‚å¢è‚Œä¸èƒ½ä½¿åŸºç¡€ä»£è°¢æ˜æ˜¾æå‡ï¼Œå‡è„‚æ•ˆç‡å¾ˆä½</li>
<li>è¯¯åŒºäºŒï¼šé«˜å¼ºåº¦è¿åŠ¨å‡è‚¥ã€‚é«˜å¼ºåº¦è¿åŠ¨æ›´å¤šåœ°æ¶ˆè€—ç³–åˆ†å’Œæ°´åˆ†ï¼Œè€Œä¸æ˜¯æ¶ˆè€—è„‚è‚ªï¼Œè¿˜å®¹æ˜“é€ æˆå¤§è„‘ä¾›èƒ½ä¸è¶³  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1. èº«ä½“å‚¨å­˜1å…‹ç³–ï¼Œéœ€è¦3å…‹æ°´</span><br><span class="line">2. èº«ä½“å‚¨å­˜1å…‹è„‚è‚ªåªè¦0.3å…‹æ°´</span><br><span class="line">3. è„‚è‚ªæ¶ˆè€—éœ€è¦æ°§æ°”ï¼Œä¸Šæ°”ä¸æ¥ä¸‹æ—¶ï¼Œæ¶ˆè€—çš„æ˜¯ç³–</span><br></pre></td></tr></table></figure>
<ul>
<li>è¯¯åŒºä¸‰ï¼šèŠ‚é£Ÿå‡è‚¥ã€‚èŠ‚é£Ÿä¼šé€ æˆè¥å…»ä¾›ç»™ä¸è¶³ï¼ŒæŸä¼¤å…ç–«åŠ›ï¼Œå¯¹å¥åº·æœ‰å¾ˆå¤§æŸå®³</li>
</ul>
<h4 id="2-äº†è§£ä½“è„‚ç‡"><a href="#2-äº†è§£ä½“è„‚ç‡" class="headerlink" title="2. äº†è§£ä½“è„‚ç‡"></a>2. äº†è§£ä½“è„‚ç‡</h4><p>å‡è‚¥å‰åº”å…ˆäº†è§£è‡ªå·±çš„ä½“è„‚ç‡ï¼Œä½“è„‚ç‡æ¯”ä½“é‡æ›´èƒ½åæ˜ ä½ çš„èƒ–ç˜¦ï¼Œä¹°ä¸ªä½“è„‚ç§¤æˆ–è€…å»å¥èº«æˆ¿æµ‹è¯•ä½“è„‚.<br>ç”·ç”Ÿå¥åº·ä½“è„‚ç‡: 15% ~ 20%<br>å¥³ç”Ÿå¥åº·ä½“è„‚ç‡: 20% ~ 25%</p>
<h4 id="3-ç§‘å­¦çš„é¥®é£Ÿèƒ½å¤Ÿå¸®åŠ©ä½ æœ‰æ•ˆåœ°å‡è‚¥"><a href="#3-ç§‘å­¦çš„é¥®é£Ÿèƒ½å¤Ÿå¸®åŠ©ä½ æœ‰æ•ˆåœ°å‡è‚¥" class="headerlink" title="3. ç§‘å­¦çš„é¥®é£Ÿèƒ½å¤Ÿå¸®åŠ©ä½ æœ‰æ•ˆåœ°å‡è‚¥"></a>3. ç§‘å­¦çš„é¥®é£Ÿèƒ½å¤Ÿå¸®åŠ©ä½ æœ‰æ•ˆåœ°å‡è‚¥</h4><ul>
<li><p>å•ç‹¬è®¡ç®—å¡è·¯é‡Œæ˜¯æ— æ•ˆçš„ï¼Œè¿˜åº”è¯¥æŠŠå¸æ”¶è½¬åŒ–ç‡çº³å…¥è€ƒè™‘èŒƒå›´   </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç³–çš„å¸æ”¶ç‡ï¼šçº¦70%;  </span><br><span class="line">è„‚è‚ªçš„å¸æ”¶ç‡ï¼šçº¦96%;    </span><br><span class="line">è›‹ç™½è´¨çš„å¸æ”¶ç‡ï¼šæ— å›ºå®šå€¼ã€‚ä½ ç¼ºä¹çš„è›‹ç™½è´¨é‡ï¼Œæ˜¯ä½ èƒ½å¸æ”¶çš„ä¸Šé™.</span><br></pre></td></tr></table></figure>
</li>
<li><p>æé«˜è›‹ç™½è´¨çš„æ‘„å…¥ï¼Œä¿è¯ç³–åˆ†çš„åŸºæœ¬ä¾›ç»™ï¼Œå‡å°‘è„‚è‚ªæ‘„å…¥ï¼Œè¿™æ ·æ‰èƒ½å¥åº·åœ°å‡è‚¥<br><code>è›‹ç™½è´¨çš„ä¸»è¦æ¥æºæ˜¯è‚‰ã€è›‹ã€å¥¶ç±», è›‹ç™½è´¨æ¶ˆè€—:ä¸è¿åŠ¨æ—¶æ¯å…¬æ–¤ä½“é‡å¯¹åº”1å…‹è›‹ç™½è´¨, è¿åŠ¨å¯èƒ½æ¯å…¬æ–¤ä½“é‡å¯¹åº”1.5å…‹è›‹ç™½è´¨</code></p>
</li>
</ul>
<blockquote>
<p>25å²ä»¥ä¸Šç”·æ€§ï¼š<br>ç³–(g) = ä½“é‡(kg) Ã— 2.0 g/kgï¼›<br>è„‚è‚ª(g) = ä½“é‡(kg) Ã— 1 g/kgï¼›<br>è›‹ç™½è´¨(g) = ä½“é‡(kg) Ã— 1.4 g/kgã€‚</p>
</blockquote>
<blockquote>
<p>25å²ä»¥ä¸Šå¥³æ€§ï¼š<br>ç³–(g) = ä½“é‡(kg) Ã— 1.8 g/kgï¼›<br>è„‚è‚ª(g) = ä½“é‡(kg) Ã— 1 g/kgï¼›<br>è›‹ç™½è´¨(g) = ä½“é‡(kg) Ã— 1.4 g/kgã€‚</p>
</blockquote>
<h4 id="4-é…åˆä½å¼ºåº¦è¿åŠ¨ï¼Œå‡è‚¥æ•ˆæœæ›´åŠ æ˜¾è‘—ï¼šåœ¨å‡è„‚å¿ƒç‡åŒºé—´è¿›è¡Œå¡åº¦èµ°ï¼Œèƒ½å¤Ÿå¸®åŠ©å‡è„‚"><a href="#4-é…åˆä½å¼ºåº¦è¿åŠ¨ï¼Œå‡è‚¥æ•ˆæœæ›´åŠ æ˜¾è‘—ï¼šåœ¨å‡è„‚å¿ƒç‡åŒºé—´è¿›è¡Œå¡åº¦èµ°ï¼Œèƒ½å¤Ÿå¸®åŠ©å‡è„‚" class="headerlink" title="4. é…åˆä½å¼ºåº¦è¿åŠ¨ï¼Œå‡è‚¥æ•ˆæœæ›´åŠ æ˜¾è‘—ï¼šåœ¨å‡è„‚å¿ƒç‡åŒºé—´è¿›è¡Œå¡åº¦èµ°ï¼Œèƒ½å¤Ÿå¸®åŠ©å‡è„‚"></a>4. é…åˆä½å¼ºåº¦è¿åŠ¨ï¼Œå‡è‚¥æ•ˆæœæ›´åŠ æ˜¾è‘—ï¼šåœ¨å‡è„‚å¿ƒç‡åŒºé—´è¿›è¡Œå¡åº¦èµ°ï¼Œèƒ½å¤Ÿå¸®åŠ©å‡è„‚</h4><p>å‡è„‚å¿ƒç‡ = (220 âˆ’ å¹´é¾„ âˆ’ é™æ€å¿ƒç‡) Ã— (35%~55%) + é™æ€å¿ƒç‡</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ioman.cc/2017/06/27/ç»†èŠ‚:å¦‚ä½•è½»æ¾å½±å“ä»–äºº/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mario">
      <meta itemprop="description" content="Life is so short, do something to make yourself happy, such as coding.">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IOMan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/27/ç»†èŠ‚:å¦‚ä½•è½»æ¾å½±å“ä»–äºº/" itemprop="url">
                  ç»†èŠ‚:å¦‚ä½•è½»æ¾å½±å“ä»–äºº
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2017-06-27 10:00:15" itemprop="dateCreated datePublished" datetime="2017-06-27T10:00:15+08:00">2017-06-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-08-15 10:22:46" itemprop="dateModified" datetime="2018-08-15T10:22:46+08:00">2018-08-15</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/è¯»ä¹¦ç¬”è®°/" itemprop="url" rel="index"><span itemprop="name">è¯»ä¹¦ç¬”è®°</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/06/27/ç»†èŠ‚:å¦‚ä½•è½»æ¾å½±å“ä»–äºº/#SOHUCS" itemprop="discussionUrl">
                  <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span> <span id="url::http://ioman.cc/2017/06/27/ç»†èŠ‚:å¦‚ä½•è½»æ¾å½±å“ä»–äºº/" class="cy_cmt_count" data-xid="2017/06/27/ç»†èŠ‚:å¦‚ä½•è½»æ¾å½±å“ä»–äºº/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2017/06/27/ç»†èŠ‚:å¦‚ä½•è½»æ¾å½±å“ä»–äºº/" class="leancloud_visitors" data-flag-title="ç»†èŠ‚:å¦‚ä½•è½»æ¾å½±å“ä»–äºº">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://op09okwcw.bkt.clouddn.com//book-note/IMG_6824.JPG" alt=""></p>
<h3 id="ä¸€ã€æ€ä¹ˆè®©åˆ«äººè¯´åˆ°åšåˆ°"><a href="#ä¸€ã€æ€ä¹ˆè®©åˆ«äººè¯´åˆ°åšåˆ°" class="headerlink" title="ä¸€ã€æ€ä¹ˆè®©åˆ«äººè¯´åˆ°åšåˆ°"></a>ä¸€ã€æ€ä¹ˆè®©åˆ«äººè¯´åˆ°åšåˆ°</h3><h4 id="1-è¦è®©å¯¹æ–¹ä¸»åŠ¨æ‰¿è®¤"><a href="#1-è¦è®©å¯¹æ–¹ä¸»åŠ¨æ‰¿è®¤" class="headerlink" title="1. è¦è®©å¯¹æ–¹ä¸»åŠ¨æ‰¿è®¤"></a>1. è¦è®©å¯¹æ–¹ä¸»åŠ¨æ‰¿è®¤</h4><p>å¤§éƒ¨åˆ†äººéƒ½æœ‰ä¿¡å®ˆæ‰¿è‹¥çš„å¼ºçƒˆæ„¿æœ›ï¼Œç‰¹åˆ«æ˜¯å½“è¿™ä¸ªæ‰¿è‹¥æ˜¯ä»–ä»¬ä¸»åŠ¨æå‡ºæ—¶ã€‚</p>
<h4 id="2-æ‰§è¡Œæ„å‘"><a href="#2-æ‰§è¡Œæ„å‘" class="headerlink" title="2. æ‰§è¡Œæ„å‘"></a>2. æ‰§è¡Œæ„å‘</h4><p>è®©åˆ«äººæœ‰ä¸ªå…·ä½“çš„æ‰§è¡Œè®¡åˆ’ï¼Œä¼šå¤§å¤§å¢åŠ ä»–è¡ŒåŠ¨çš„å¯èƒ½æ€§ã€‚</p>
<h4 id="3-ç¼©çŸ­æœŸé™"><a href="#3-ç¼©çŸ­æœŸé™" class="headerlink" title="3. ç¼©çŸ­æœŸé™"></a>3. ç¼©çŸ­æœŸé™</h4><p>å‡å°‘æˆªæ­¢æ—¥æœŸä¼šæ›´æœ‰æ•ˆï¼ŒæœŸé™è¶Šé•¿ï¼Œæ‰§è¡ŒåŠ›è¶Šä½ã€‚</p>
<h3 id="äºŒã€æ€ä¹ˆå¢åŠ ä½ è¯´æœåˆ«äººçš„èƒ½åŠ›"><a href="#äºŒã€æ€ä¹ˆå¢åŠ ä½ è¯´æœåˆ«äººçš„èƒ½åŠ›" class="headerlink" title="äºŒã€æ€ä¹ˆå¢åŠ ä½ è¯´æœåˆ«äººçš„èƒ½åŠ›"></a>äºŒã€æ€ä¹ˆå¢åŠ ä½ è¯´æœåˆ«äººçš„èƒ½åŠ›</h3><h4 id="1-æ³¨æ„æœè£…çš„è¯´æœåŠ›"><a href="#1-æ³¨æ„æœè£…çš„è¯´æœåŠ›" class="headerlink" title="1. æ³¨æ„æœè£…çš„è¯´æœåŠ›"></a>1. æ³¨æ„æœè£…çš„è¯´æœåŠ›</h4><h4 id="2-å°½å¿«äº®å‡ºä¸“å®¶èº«ä»½"><a href="#2-å°½å¿«äº®å‡ºä¸“å®¶èº«ä»½" class="headerlink" title="2. å°½å¿«äº®å‡ºä¸“å®¶èº«ä»½"></a>2. å°½å¿«äº®å‡ºä¸“å®¶èº«ä»½</h4><h4 id="3-ä¸“å®¶è¡¨è¾¾å‡ºä¸€ç‚¹ç‚¹çš„ä¸ç¡®å®šå’ŒçŠ¹è±«ï¼Œåè€Œæ›´è®©äººè§‰å¾—å¯ä¿¡"><a href="#3-ä¸“å®¶è¡¨è¾¾å‡ºä¸€ç‚¹ç‚¹çš„ä¸ç¡®å®šå’ŒçŠ¹è±«ï¼Œåè€Œæ›´è®©äººè§‰å¾—å¯ä¿¡" class="headerlink" title="3. ä¸“å®¶è¡¨è¾¾å‡ºä¸€ç‚¹ç‚¹çš„ä¸ç¡®å®šå’ŒçŠ¹è±«ï¼Œåè€Œæ›´è®©äººè§‰å¾—å¯ä¿¡"></a>3. ä¸“å®¶è¡¨è¾¾å‡ºä¸€ç‚¹ç‚¹çš„ä¸ç¡®å®šå’ŒçŠ¹è±«ï¼Œåè€Œæ›´è®©äººè§‰å¾—å¯ä¿¡</h4><h3 id="ä¸‰ã€è°ˆåˆ¤æ—¶å·§å¦™è·èƒœçš„æŠ€å·§"><a href="#ä¸‰ã€è°ˆåˆ¤æ—¶å·§å¦™è·èƒœçš„æŠ€å·§" class="headerlink" title="ä¸‰ã€è°ˆåˆ¤æ—¶å·§å¦™è·èƒœçš„æŠ€å·§"></a>ä¸‰ã€è°ˆåˆ¤æ—¶å·§å¦™è·èƒœçš„æŠ€å·§</h3><h4 id="1-å…ˆä¸‹æ‰‹ä¸ºå¼º"><a href="#1-å…ˆä¸‹æ‰‹ä¸ºå¼º" class="headerlink" title="1. å…ˆä¸‹æ‰‹ä¸ºå¼º"></a>1. å…ˆä¸‹æ‰‹ä¸ºå¼º</h4><p>ç ä»·æ—¶ï¼Œå…ˆç»™å‡ºè‡ªå·±çš„ä½ä»·ã€‚</p>
<h4 id="2-æŠ¥ä»·è¶Šç²¾ç¡®è¶Šå¥½"><a href="#2-æŠ¥ä»·è¶Šç²¾ç¡®è¶Šå¥½" class="headerlink" title="2. æŠ¥ä»·è¶Šç²¾ç¡®è¶Šå¥½"></a>2. æŠ¥ä»·è¶Šç²¾ç¡®è¶Šå¥½</h4><p>è¡Œä¸ºå­¦å®¶å‘ç°ï¼Œå¦‚æœä½ çš„æŠ¥ä»·éå¸¸ç²¾ç¡®ï¼Œé‚£å¯¹æ–¹å®¹æ˜“è®¤ä¸ºä½ èŠ±å¿ƒæ€å‡†å¤‡è¿‡ï¼Œæ˜¯ç»è¿‡å‘¨å¯†è®¡ç®—æ‰å¼€å‡ºçš„ä»·ç ï¼Œä»–ä¼šè§‰å¾—ä½ æ¯”ä»–ä¸“ä¸šï¼Œå°±ä¸å¤ªæ•¢ä¹±å•¥ä»·äº†ã€‚</p>
<h4 id="3-è‡ªæˆ‘è°ƒæ•´"><a href="#3-è‡ªæˆ‘è°ƒæ•´" class="headerlink" title="3. è‡ªæˆ‘è°ƒæ•´"></a>3. è‡ªæˆ‘è°ƒæ•´</h4><p>åœ¨å¼€å§‹è°ˆåˆ¤å‰ï¼Œå›å¿†ä¸€äº›è‡ªå·±è§‰å¾—ç‰¹åˆ«ç‰›çš„æ—¶åˆ»ï¼Œæˆ–è€…åˆ»æ„ä¿æŒä¸€ä¸ªè‡ªä¿¡çš„å§¿åŠ¿ï¼ŒçŸ­çŸ­å‡ åˆ†é’Ÿï¼Œä½ ä½“å†…çš„åŠ›é‡æ¿€ç´ å°±ä¼šæ˜æ˜¾ä¸Šå‡ã€‚</p>
<h3 id="å››ã€ä½¿ç”¨å¥—è·¯çš„æ³¨æ„äº‹é¡¹"><a href="#å››ã€ä½¿ç”¨å¥—è·¯çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="å››ã€ä½¿ç”¨å¥—è·¯çš„æ³¨æ„äº‹é¡¹"></a>å››ã€ä½¿ç”¨å¥—è·¯çš„æ³¨æ„äº‹é¡¹</h3><h4 id="1-å¿ƒé‡ŒåŠ¨åŠ›è¦ç›¸å®¹"><a href="#1-å¿ƒé‡ŒåŠ¨åŠ›è¦ç›¸å®¹" class="headerlink" title="1. å¿ƒé‡ŒåŠ¨åŠ›è¦ç›¸å®¹"></a>1. å¿ƒé‡ŒåŠ¨åŠ›è¦ç›¸å®¹</h4><p>å¦‚æœä½ æœ‰ä¸¤ä¸ªæ‹›æ•°ï¼Œç¬¬ä¸€æ‹›æ˜¯ç”¨å¤§å®¶çš„å…±åŒåˆ©ç›Šæ¥è¯´æœåˆ«äººï¼Œ ç¬¬äºŒæ‹›æ˜¯ç”¨ä¸ªäººå¥½å¤„å¼•è¯±åˆ«äººï¼Œè¿™ä¸¤æ‹›ä½ å°±ä¸èƒ½ä¸€èµ·ç”¨ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªåŠ¨æœºæ˜¯ç›¸åçš„ï¼Œä½œç”¨ä¼šç›¸äº’æŠµæ¶ˆã€‚</p>
<h4 id="2-å¥—è·¯ç»„åˆä¸Šé™"><a href="#2-å¥—è·¯ç»„åˆä¸Šé™" class="headerlink" title="2. å¥—è·¯ç»„åˆä¸Šé™"></a>2. å¥—è·¯ç»„åˆä¸Šé™</h4><p>å¥—è·¯ç”¨å¾—è¶Šå¤šæ„å›¾å°±è¶Šæ˜æ˜¾ï¼Œåˆ«äººä¸€æ—¦å‘ç°ä½ æ˜¯åœ¨åˆ»æ„å½±å“ä»–ï¼Œé‚£ä»–å°±å¾ˆå®¹æ˜“æŠ—æ‹’ä½ ï¼Œ æ‰€ä»¥ä¸€æ¬¡æœ€å¤šç”¨3ä¸ªå¥—è·¯ã€‚</p>
<h3 id="é‡‘å¥"><a href="#é‡‘å¥" class="headerlink" title="é‡‘å¥"></a>é‡‘å¥</h3><ol>
<li><p>â€œæœªæ¥ç»‘å®šæ³•â€ï¼šå½“ä½ è¦è¯´æœä»–äººæ¥æ”¶æ”¹å˜æ—¶ï¼Œä¸è®©ä»–ä»¬ç«‹å³æ”¹ï¼Œè€Œæ˜¯æŠŠæ”¹å˜æ”¾åˆ°æœªæ¥çš„æŸä¸ªæ—¶æ®µï¼Œä¼šæ›´å®¹æ˜“è¢«æ¥å—ã€‚æ¯”å¦‚å…¬å¸è¯´æœå‘˜å·¥æ”¹ç”¨æ–°çš„å·¥ä½œæµç¨‹ï¼Œ â€œ3ä¸ªæœˆå†…æ‰§è¡Œâ€ æ¯” â€œ3å¤©å†…æ‰§è¡Œâ€ ä¼šæ›´å®¹æ˜“å¾ˆå¤šã€‚</p>
</li>
<li><p>å¦‚æœèƒ½è§¦åŠ¨äººä»¬å¯¹â€œå°†æ¥çš„è‡ªå·±â€çš„é“å¾·è´£ä»»æ„Ÿï¼Œå°±å¯ä»¥è¯´æœäººä»¬åšä¸€äº›é•¿è¿œä¸Šå¯¹ä»–ä»¬æœ‰ç›Šçš„äº‹ã€‚æ¯”å¦‚å‘Šè¯‰äººä»¬ï¼Œè¦â€œ60å²é€€ä¼‘çš„ä½ è´Ÿè´£â€ï¼Œå°±èƒ½å¢åŠ ä»–ä»¬çš„å‚¨è“„ç‡ã€‚</p>
</li>
<li><p>å’Œæ”¶ç›Šç›¸æ¯”ï¼Œäººä»¬å¯¹æŸå¤±æ›´æ•æ„Ÿã€‚åŠè¯´åˆ«äººæ—¶ï¼Œå¼ºè°ƒä»–ä»¬ä¸è¿™ä¹ˆåšä¼šæŸå¤±ä»€ä¹ˆï¼Œä¼šæ›´æœ‰è¯´æœåŠ›ã€‚</p>
</li>
</ol>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ioman.cc/2017/05/24/åœ¨Springä¸­ä½¿ç”¨-Scheduledæ³¨è§£/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mario">
      <meta itemprop="description" content="Life is so short, do something to make yourself happy, such as coding.">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IOMan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/24/åœ¨Springä¸­ä½¿ç”¨-Scheduledæ³¨è§£/" itemprop="url">
                  åœ¨Springä¸­ä½¿ç”¨@Scheduledæ³¨è§£
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2017-05-24 21:25:08" itemprop="dateCreated datePublished" datetime="2017-05-24T21:25:08+08:00">2017-05-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-08-15 10:22:46" itemprop="dateModified" datetime="2018-08-15T10:22:46+08:00">2018-08-15</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Spring/" itemprop="url" rel="index"><span itemprop="name">Spring</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/05/24/åœ¨Springä¸­ä½¿ç”¨-Scheduledæ³¨è§£/#SOHUCS" itemprop="discussionUrl">
                  <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span> <span id="url::http://ioman.cc/2017/05/24/åœ¨Springä¸­ä½¿ç”¨-Scheduledæ³¨è§£/" class="cy_cmt_count" data-xid="2017/05/24/åœ¨Springä¸­ä½¿ç”¨-Scheduledæ³¨è§£/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2017/05/24/åœ¨Springä¸­ä½¿ç”¨-Scheduledæ³¨è§£/" class="leancloud_visitors" data-flag-title="åœ¨Springä¸­ä½¿ç”¨@Scheduledæ³¨è§£">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="é…ç½®Schedulingå¯ç”¨"><a href="#é…ç½®Schedulingå¯ç”¨" class="headerlink" title="é…ç½®Schedulingå¯ç”¨"></a>é…ç½®Schedulingå¯ç”¨</h3><blockquote>
<p>å¦‚æœå®Œå…¨æ˜¯ä½¿ç”¨Spring bootè¿™ç§å…¨æ³¨è§£çš„æ–¹å¼ï¼Œè¦å°†ä»»åŠ¡è°ƒåº¦ç±»åŠ å…¥Beanä¸­ï¼Œå¯ä»¥ä½¿ç”¨<code>@Component</code>å…³é”®å­—ï¼Œå¦åˆ™è°ƒåº¦ä¸ä¼šç”Ÿæ•ˆ</p>
</blockquote>
<p>è¦è®©Springæ”¯æŒä»»åŠ¡è°ƒåº¦çš„æ³¨è§£ï¼Œéœ€è¦å…ˆé…ç½®<code>@Configuration</code>å’Œ<code>@EnableScheduling</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableScheduling</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SpringConfig</span></span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Fixed-Delay"><a href="#Fixed-Delay" class="headerlink" title="Fixed Delay"></a>Fixed Delay</h3><p>å»¶è¿Ÿæ¨¡å¼ï¼šæ¯ä¸ªä»»åŠ¡éƒ½ä¼šå»¶è¿ŸæŒ‡å®šæ—¶é—´æ‰§è¡Œï¼Œä¸‹ä¸€ä¸ªä»»åŠ¡ä¸€å®šè¦ç­‰å½“å‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åæ‰ä¼šç»§ç»­å»¶è¿Ÿæ‰§è¡Œã€‚æ¯”å¦‚é…ç½®<code>fixedDelay=3000</code>ï¼Œ ç¨‹åºå¯åŠ¨å<strong>é©¬ä¸Š</strong>æ‰§è¡Œç¬¬ä¸€ä¸ªä»»åŠ¡ï¼Œç¬¬ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæ¯•åå»¶è¿Ÿ3ç§’æ‰§è¡Œç¬¬äºŒä¸ªä»»åŠ¡ï¼Œå¦‚æ­¤åå¤ï¼ŒåŒä¸€æ—¶é—´åªä¼šæœ‰ä¸€ä¸ªä»»åŠ¡åœ¨æ‰§è¡Œï¼Œæ¯ä¸ªä»»åŠ¡ä¹‹é—´å»¶è¿ŸæŒ‡å®šæ—¶é—´ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Scheduled</span>(fixedDelay = <span class="number">1000</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">scheduleFixedDelayTask</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Fixed-Rate"><a href="#Fixed-Rate" class="headerlink" title="Fixed Rate"></a>Fixed Rate</h3><p>å‘¨æœŸæ¨¡å¼ï¼šå’Œ<code>Fixed Delay</code>åˆšå¥½ç›¸åï¼Œæ¯ä¸ªä»»åŠ¡éƒ½ä¼šåœ¨æŒ‡å®šå‘¨æœŸåé©¬ä¸Šæ‰§è¡Œï¼Œä¸ç®¡ä¸Šä¸€ä¸ªä»»åŠ¡æ˜¯å¦å·²ç»ç»“æŸã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Scheduled</span>(fixedRate = <span class="number">1000</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">scheduleFixedRateTask</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¸¦æœ‰åˆå§‹å»¶è¿Ÿçš„å®šæ—¶ä»»åŠ¡-Initial-Delay"><a href="#å¸¦æœ‰åˆå§‹å»¶è¿Ÿçš„å®šæ—¶ä»»åŠ¡-Initial-Delay" class="headerlink" title="å¸¦æœ‰åˆå§‹å»¶è¿Ÿçš„å®šæ—¶ä»»åŠ¡(Initial Delay)"></a>å¸¦æœ‰åˆå§‹å»¶è¿Ÿçš„å®šæ—¶ä»»åŠ¡(Initial Delay)</h3><p>åˆå§‹å»¶è¿Ÿæ˜¯é’ˆå¯¹é¦–æ¬¡ä»»åŠ¡ï¼Œè®¾ç½®äº†<code>initialDelay</code>ä¹‹åï¼Œç¬¬ä¸€æ¬¡æ‰§è¡Œçš„ä»»åŠ¡å°†ä¼šå»¶è¿ŸæŒ‡å®šçš„æ—¶é—´ï¼Œé…åˆ<code>fixedDelay</code><br>å’Œ<code>fixedRate</code>ä¸€èµ·ä½¿ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Scheduled</span>(fixedDelay = <span class="number">1000</span>, initialDelay = <span class="number">1000</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">scheduleFixedRateWithInitialDelayTask</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä½¿ç”¨å‘¨æœŸè°ƒåº¦è¡¨è¾¾å¼-Cron-Expressions"><a href="#ä½¿ç”¨å‘¨æœŸè°ƒåº¦è¡¨è¾¾å¼-Cron-Expressions" class="headerlink" title="ä½¿ç”¨å‘¨æœŸè°ƒåº¦è¡¨è¾¾å¼(Cron Expressions)"></a>ä½¿ç”¨å‘¨æœŸè°ƒåº¦è¡¨è¾¾å¼(Cron Expressions)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Scheduled</span>(cron = <span class="string">"0 15 10 15 * ?"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">scheduleTaskUsingCronExpression</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	...  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å¸¦å‚æ•°çš„å‘¨æœŸè°ƒåº¦"><a href="#å¸¦å‚æ•°çš„å‘¨æœŸè°ƒåº¦" class="headerlink" title="å¸¦å‚æ•°çš„å‘¨æœŸè°ƒåº¦"></a>å¸¦å‚æ•°çš„å‘¨æœŸè°ƒåº¦</h3><p>å¦‚æœä¸æƒ³å°†ä»»åŠ¡è°ƒåº¦æ—¶é—´å›ºå®šåœ¨ä»£ç ä¸­ï¼Œå¯ä»¥å°†å‘¨æœŸé…ç½®åœ¨propertiesæ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨ä»£ç ä¸­é€šè¿‡ä¸‹åˆ—æ–¹å¼è·å–ã€‚</p>
<p><code>@Scheduled(fixedDelayString = &quot;${fixedDelay.in.milliseconds}&quot;)</code></p>
<p><code>@Scheduled(fixedRateString = &quot;${fixedRate.in.milliseconds}&quot;)</code></p>
<p><code>@Scheduled(cron = &quot;${cron.expression}&quot;)</code></p>
<h3 id="åœ¨XMLæ–‡ä»¶ä¸­é…ç½®"><a href="#åœ¨XMLæ–‡ä»¶ä¸­é…ç½®" class="headerlink" title="åœ¨XMLæ–‡ä»¶ä¸­é…ç½®"></a>åœ¨XMLæ–‡ä»¶ä¸­é…ç½®</h3><p>ä¹Ÿå¯ä»¥åœ¨XMLæ–‡ä»¶ä¸­é…ç½®</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Configure the scheduler --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">task:scheduler</span> <span class="attr">id</span>=<span class="string">"myScheduler"</span> <span class="attr">pool-size</span>=<span class="string">"10"</span> /&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">&lt;!-- Configure parameters --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">task:scheduled-tasks</span> <span class="attr">scheduler</span>=<span class="string">"myScheduler"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">task:scheduled</span> <span class="attr">ref</span>=<span class="string">"beanA"</span> <span class="attr">method</span>=<span class="string">"methodA"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">fixed-delay</span>=<span class="string">"5000"</span> <span class="attr">initial-delay</span>=<span class="string">"1000"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">task:scheduled</span> <span class="attr">ref</span>=<span class="string">"beanB"</span> <span class="attr">method</span>=<span class="string">"methodB"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">fixed-rate</span>=<span class="string">"5000"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">task:scheduled</span> <span class="attr">ref</span>=<span class="string">"beanC"</span> <span class="attr">method</span>=<span class="string">"methodC"</span></span></span><br><span class="line"><span class="tag">      <span class="attr">cron</span>=<span class="string">"*/5 * * * * MON-FRI"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">task:scheduled-tasks</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<blockquote>
<p>æ–‡ç« æ¥è‡ªIOMançš„<a href="http://ioman.cc">ä¸ªäººåšå®¢</a></p>
</blockquote>
<hr>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ioman.cc/2017/05/24/ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºè¿›è¡Œå¾®ä¿¡æ”¯ä»˜æµç¨‹è¯´æ˜/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mario">
      <meta itemprop="description" content="Life is so short, do something to make yourself happy, such as coding.">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IOMan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/24/ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºè¿›è¡Œå¾®ä¿¡æ”¯ä»˜æµç¨‹è¯´æ˜/" itemprop="url">
                  ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºè¿›è¡Œå¾®ä¿¡æ”¯ä»˜æµç¨‹è¯´æ˜
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2017-05-24 15:19:13" itemprop="dateCreated datePublished" datetime="2017-05-24T15:19:13+08:00">2017-05-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-08-15 10:22:46" itemprop="dateModified" datetime="2018-08-15T10:22:46+08:00">2018-08-15</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/å¾®ä¿¡/" itemprop="url" rel="index"><span itemprop="name">å¾®ä¿¡</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/05/24/ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºè¿›è¡Œå¾®ä¿¡æ”¯ä»˜æµç¨‹è¯´æ˜/#SOHUCS" itemprop="discussionUrl">
                  <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span> <span id="url::http://ioman.cc/2017/05/24/ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºè¿›è¡Œå¾®ä¿¡æ”¯ä»˜æµç¨‹è¯´æ˜/" class="cy_cmt_count" data-xid="2017/05/24/ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºè¿›è¡Œå¾®ä¿¡æ”¯ä»˜æµç¨‹è¯´æ˜/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2017/05/24/ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºè¿›è¡Œå¾®ä¿¡æ”¯ä»˜æµç¨‹è¯´æ˜/" class="leancloud_visitors" data-flag-title="ä½¿ç”¨å¾®ä¿¡å°ç¨‹åºè¿›è¡Œå¾®ä¿¡æ”¯ä»˜æµç¨‹è¯´æ˜">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å¾®ä¿¡æ”¯ä»˜çš„å…¥å£æ˜¯åœ¨<a href="https://pay.weixin.qq.com" target="_blank" rel="noopener">å¾®ä¿¡å•†æˆ·å¹³å°</a>ä¸­ï¼Œä»å¾®ä¿¡å•†æˆ·å¹³å°çš„<a href="https://pay.weixin.qq.com/wiki/doc/api/index.html" target="_blank" rel="noopener">å¼€å‘æ–‡æ¡£</a>å¯ä»¥æŸ¥çœ‹ç›¸å…³å¾®ä¿¡æ”¯ä»˜çš„æ–‡æ¡£ï¼Œä½†æ˜¯å®˜æ–¹æ–‡æ¡£é¦–é¡µå±…ç„¶æœ¨æœ‰å°ç¨‹åºç‰ˆæœ¬å…¥å£ï¼Œæ‰€ä»¥å•ç‹¬ç»™ä¸€ä¸‹<a href="https://pay.weixin.qq.com/wiki/doc/api/wxa/wxa_api.php?chapter=1_1" target="_blank" rel="noopener">å°ç¨‹åºçš„æ–‡æ¡£</a>.  å¾®ä¿¡æ”¯ä»˜çš„å¼€å‘åˆ†ä¸ºåˆ·å¡æ”¯ä»˜ã€å…¬ä¼—å·æ”¯ä»˜ã€æ‰«ç æ”¯ä»˜ã€APPæ”¯ä»˜ä»¥åŠå°ç¨‹åºæ”¯ä»˜ã€‚</p>
<h3 id="å°ç¨‹åºæ”¯ä»˜æµç¨‹"><a href="#å°ç¨‹åºæ”¯ä»˜æµç¨‹" class="headerlink" title="å°ç¨‹åºæ”¯ä»˜æµç¨‹"></a>å°ç¨‹åºæ”¯ä»˜æµç¨‹</h3><p><img src="https://pay.weixin.qq.com/wiki/doc/api/img/wxa-7-2.jpg" alt="å°ç¨‹åºæ”¯ä»˜æµç¨‹"></p>
<h4 id="å°ç¨‹åºç«¯å‘æœåŠ¡ç«¯è¯·æ±‚ç”Ÿæˆè®¢å•"><a href="#å°ç¨‹åºç«¯å‘æœåŠ¡ç«¯è¯·æ±‚ç”Ÿæˆè®¢å•" class="headerlink" title="å°ç¨‹åºç«¯å‘æœåŠ¡ç«¯è¯·æ±‚ç”Ÿæˆè®¢å•"></a>å°ç¨‹åºç«¯å‘æœåŠ¡ç«¯è¯·æ±‚ç”Ÿæˆè®¢å•</h4><p>å°ç¨‹åºç«¯å‘æœåŠ¡ç«¯è¯·æ±‚ä¸‹å•ï¼ŒæœåŠ¡ç«¯éœ€è¦å…ˆé’ˆå¯¹å°ç¨‹åºè¿›è¡Œç”¨æˆ·è®¤è¯ï¼Œå¹¶ç”Ÿæˆå†…éƒ¨è®¢å•ã€‚</p>
<h4 id="å°ç¨‹åºç«¯å‘æœåŠ¡ç«¯è¯·æ±‚è®¢å•æ”¯ä»˜"><a href="#å°ç¨‹åºç«¯å‘æœåŠ¡ç«¯è¯·æ±‚è®¢å•æ”¯ä»˜" class="headerlink" title="å°ç¨‹åºç«¯å‘æœåŠ¡ç«¯è¯·æ±‚è®¢å•æ”¯ä»˜"></a>å°ç¨‹åºç«¯å‘æœåŠ¡ç«¯è¯·æ±‚è®¢å•æ”¯ä»˜</h4><p>å°ç¨‹åºç«¯å‘æœåŠ¡ç«¯è¯·æ±‚æ”¯ä»˜ï¼ŒæœåŠ¡ç«¯è°ƒç”¨ç»Ÿä¸€ä¸‹å•APIï¼Œè·å–prepay_idã€‚</p>
<h4 id="æœåŠ¡ç«¯è¯·æ±‚ç»Ÿä¸€ä¸‹å•API"><a href="#æœåŠ¡ç«¯è¯·æ±‚ç»Ÿä¸€ä¸‹å•API" class="headerlink" title="æœåŠ¡ç«¯è¯·æ±‚ç»Ÿä¸€ä¸‹å•API"></a>æœåŠ¡ç«¯è¯·æ±‚ç»Ÿä¸€ä¸‹å•API</h4><p><strong>æ¥å£åœ°å€</strong> ï¼š<code>https://api.mch.weixin.qq.com/pay/unifiedorder</code><br><strong>è¯·æ±‚æ–¹å¼</strong> ï¼š<code>POST</code><br><strong>æ˜¯å¦éœ€è¦è¯ä¹¦</strong>ï¼š å¦<br><strong>è¯·æ±‚å‚æ•°(å¿…å¡«)</strong>ï¼š   </p>
<ul>
<li>å°ç¨‹åºID(appid)ï¼šå¯åœ¨å…¬ä¼—å·é…ç½®é¡µé¢è·å–</li>
<li>å•†æˆ·å·(mch_id)ï¼šå¯ä»¥åœ¨å¾®ä¿¡å•†æˆ·é…ç½®é¡µé¢è·å–</li>
<li>éšæœºå­—ç¬¦ä¸²(nonce_str)ï¼šéšæœºå­—ç¬¦ä¸²ï¼Œ32ä½</li>
<li>ç­¾å(sign)ï¼šå¯æŸ¥çœ‹<a href="https://pay.weixin.qq.com/wiki/doc/api/wxa/wxa_api.php?chapter=4_3" target="_blank" rel="noopener">ç­¾åç”Ÿæˆç®—æ³•</a></li>
<li>å•†å“æè¿°(body): å‚è€ƒå¾®ä¿¡<a href="https://pay.weixin.qq.com/wiki/doc/api/wxa/wxa_api.php?chapter=4_2" target="_blank" rel="noopener">å‚æ•°è§„å®š</a></li>
<li>å•†æˆ·è®¢å•å·(out_trade_no)ï¼š æœåŠ¡ç«¯å†…éƒ¨ç”Ÿæˆçš„è®¢å•å·</li>
<li>æ€»é‡‘é¢(total_fee)ï¼šè®¢å•å®é™…æ€»é‡‘é¢ï¼Œ<strong>åˆ‡è®°å•ä½æ˜¯åˆ†</strong></li>
<li>ç»ˆç«¯IP(spbill_create_ip): APPå’Œç½‘é¡µæ”¯ä»˜æäº¤ç”¨æˆ·ç«¯ipï¼ŒNativeæ”¯ä»˜å¡«è°ƒç”¨å¾®ä¿¡æ”¯ä»˜APIçš„æœºå™¨IPã€‚</li>
<li>é€šçŸ¥åœ°å€(notify_url)ï¼šå¾®ä¿¡æ”¯ä»˜çš„é€šçŸ¥ç»“æœæ˜¯å¼‚æ­¥çš„ï¼Œæ”¯ä»˜æˆåŠŸåï¼Œå¾®ä¿¡ä¼šå›è°ƒæ­¤åœ°å€ï¼Œ<strong>ä¸èƒ½æºå¸¦å‚æ•°</strong>ã€‚</li>
<li>äº¤æ˜“ç±»å‹(trade_type)ï¼šå°ç¨‹åºå–å€¼ï¼šJSAPI</li>
</ul>
<p><strong>è¿”å›ç»“æœ</strong></p>
<ul>
<li>return_codeï¼š æ­¤å­—æ®µè¡¨ç¤ºé€šä¿¡æ˜¯å¦æˆåŠŸï¼Œ<strong>éäº¤æ˜“æ˜¯å¦æˆåŠŸ</strong>ï¼Œ å–å€¼ï¼šSUCCESSã€FAIL</li>
<li>return_msgï¼š è¿”å›çš„ä¿¡æ¯</li>
<li>result_codeï¼š <strong>æ­¤å­—æ®µè¡¨ç¤ºäº¤æ˜“æ˜¯å¦æˆåŠŸ</strong>ï¼å–å€¼ï¼šSUCCESSã€FAIL</li>
<li>err_codeï¼š è¯·æ±‚é”™è¯¯ä»£ç ï¼Œè¯¦è§å¾®ä¿¡æ–‡æ¡£ã€‚</li>
<li>err_code_des:  é”™è¯¯è¿”å›çš„ä¿¡æ¯æè¿°</li>
<li>trade_type: äº¤æ˜“ç±»å‹ï¼Œå½“return_codeå’Œresult_codeéƒ½ä¸ºSUCCESSæ—¶æ‰è¿”å›</li>
<li>prepay_idï¼š<strong>é¢„æ”¯ä»˜ID</strong>ï¼Œä¸‹ä¸€æ­¥è¦ç”¨åˆ°çš„ï¼Œæœ‰æ•ˆæœŸ2å°æ—¶ã€‚å¦‚æœç”¨æˆ·åœ¨ç”Ÿæˆæ­¤idåå–æ¶ˆæ”¯ä»˜ï¼Œä½†æ˜¯åœ¨2ä¸ªå°æ—¶å†…é‡æ–°æ”¯ä»˜æ—¶å¯ä»¥å¤ç”¨è¯¥idã€‚ å½“return_codeå’Œresult_codeéƒ½ä¸ºSUCCESSæ—¶æ‰è¿”å›ã€‚</li>
</ul>
<h4 id="æœåŠ¡ç«¯å†æ¬¡ç”Ÿæˆç­¾å"><a href="#æœåŠ¡ç«¯å†æ¬¡ç”Ÿæˆç­¾å" class="headerlink" title="æœåŠ¡ç«¯å†æ¬¡ç”Ÿæˆç­¾å"></a>æœåŠ¡ç«¯å†æ¬¡ç”Ÿæˆç­¾å</h4><p>å½“æ‹¿åˆ°prepay_idåï¼ŒæœåŠ¡ç«¯åº”è¯¥é©¬ä¸Šå­˜å‚¨èµ·æ¥ï¼Œä»¥ä¾¿åœ¨2ä¸ªå°æ—¶å†…éƒ½å¯ä»¥å¤ç”¨ã€‚ç„¶åæ¥ä¸‹æ¥å°±æ˜¯è¦<a href="https://pay.weixin.qq.com/wiki/doc/api/wxa/wxa_api.php?chapter=7_7&amp;index=3" target="_blank" rel="noopener">å†æ¬¡ç­¾å</a>(å®‰å…¨ï¼å®‰å…¨ï¼å®‰å…¨ï¼)ã€‚æœåŠ¡ç«¯å°†æœ€ç»ˆéœ€è¦è¯·æ±‚å¾®ä¿¡æ”¯ä»˜çš„å‚æ•°è¿”å›ç»™å°ç¨‹åºã€‚</p>
<p><strong>è¿”å›å‚æ•°</strong>ï¼š</p>
<ul>
<li>appidï¼šå¯åœ¨å…¬ä¼—å·é…ç½®é¡µé¢è·å– </li>
<li>timeStampï¼š æ—¶é—´æˆ³ï¼Œåˆ°ç§’ä¸ºæ­¢ï¼Œå¦‚æœç”¨javaçš„æœ‹å‹è®°å¾—ä¸è¦ç”¨æ¯«ç§’ï¼Œè¦æˆªæ–­æœ€åä¸‰ä½</li>
<li>nonceStrï¼š 32ä½éšæœºæ•°</li>
<li>packageï¼š prepay_id=xxxxx(ä¸Šä¸€æ­¥æ‹¿åˆ°çš„prepay_id)</li>
<li>signTypeï¼šMD5</li>
<li>paySignï¼š é‡æ–°ç”Ÿæˆçš„ç­¾å</li>
</ul>
<h4 id="å°ç¨‹åºç«¯å‘å¾®ä¿¡æœåŠ¡å™¨å‘èµ·æ”¯ä»˜"><a href="#å°ç¨‹åºç«¯å‘å¾®ä¿¡æœåŠ¡å™¨å‘èµ·æ”¯ä»˜" class="headerlink" title="å°ç¨‹åºç«¯å‘å¾®ä¿¡æœåŠ¡å™¨å‘èµ·æ”¯ä»˜"></a>å°ç¨‹åºç«¯å‘å¾®ä¿¡æœåŠ¡å™¨å‘èµ·æ”¯ä»˜</h4><p>å°ç¨‹åºåœ¨æ‹¿åˆ°æœåŠ¡ç«¯çš„å‚æ•°åï¼Œè°ƒç”¨<code>wx.requestPayment(OBJECT)</code>å‘èµ·æ”¯ä»˜ã€‚</p>
<h4 id="æœåŠ¡ç«¯æ¥æ”¶æ”¯ä»˜å›è°ƒæ¥å£"><a href="#æœåŠ¡ç«¯æ¥æ”¶æ”¯ä»˜å›è°ƒæ¥å£" class="headerlink" title="æœåŠ¡ç«¯æ¥æ”¶æ”¯ä»˜å›è°ƒæ¥å£"></a>æœåŠ¡ç«¯æ¥æ”¶æ”¯ä»˜å›è°ƒæ¥å£</h4><p>åœ¨å°ç¨‹åºç«¯æ”¯ä»˜æˆåŠŸåï¼Œå¾®ä¿¡ä¼šç«‹å³è¯·æ±‚ä¹‹å‰è®¾ç½®çš„å›è°ƒåœ°å€ï¼Œå¹¶ä¸”æœåŠ¡ç«¯è¿”å›åº”ç­”ï¼Œæµç¨‹æ‰ç®—ç»“æŸ, è¯¦è§<a href="https://pay.weixin.qq.com/wiki/doc/api/wxa/wxa_api.php?chapter=9_7" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>.ä¸€èˆ¬æˆ‘ä»¬éœ€è¦é’ˆå¯¹è¿”å›çš„é‡‘é¢å’Œå†…éƒ¨è®¢å•å·è¿›è¡Œæ ¡éªŒï¼Œå¹¶ä¸”å­˜å‚¨<strong>å¾®ä¿¡æ”¯ä»˜è®¢å•å·</strong>ç­‰ä¿¡æ¯ã€‚</p>
<h4 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h4><ul>
<li><a href="https://pay.weixin.qq.com/wiki/doc/api/wxa/wxa_api.php?chapter=1_1" target="_blank" rel="noopener">å°ç¨‹åºæ”¯ä»˜æ–‡æ¡£</a></li>
<li><a href="https://github.com/Wechat-Group/weixin-java-tools" target="_blank" rel="noopener">ç¬¬ä¸‰æ–¹å¾®ä¿¡æ”¯ä»˜JAVA SDK (Github)</a></li>
</ul>
<hr>
<blockquote>
<p>æ–‡ç« æ¥è‡ªIOMançš„<a href="http://ioman.cc">ä¸ªäººåšå®¢</a></p>
</blockquote>
<hr>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://ioman.cc/2017/04/26/åŸºäºHexoå’ŒGithub-Pagesæ­å»ºä¸ªäººåšå®¢/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mario">
      <meta itemprop="description" content="Life is so short, do something to make yourself happy, such as coding.">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="IOMan">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/04/26/åŸºäºHexoå’ŒGithub-Pagesæ­å»ºä¸ªäººåšå®¢/" itemprop="url">
                  åŸºäºHexoå’ŒGithub Pagesæ­å»ºä¸ªäººåšå®¢
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2017-04-26 16:34:43" itemprop="dateCreated datePublished" datetime="2017-04-26T16:34:43+08:00">2017-04-26</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">æ›´æ–°äº</span>
                
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2018-08-15 10:43:42" itemprop="dateModified" datetime="2018-08-15T10:43:42+08:00">2018-08-15</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/å·¥å…·/" itemprop="url" rel="index"><span itemprop="name">å·¥å…·</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-comment-o"></i>
              </span>
              
                <a href="/2017/04/26/åŸºäºHexoå’ŒGithub-Pagesæ­å»ºä¸ªäººåšå®¢/#SOHUCS" itemprop="discussionUrl">
                  <span class="post-meta-item-text">è¯„è®ºæ•°ï¼š</span> <span id="url::http://ioman.cc/2017/04/26/åŸºäºHexoå’ŒGithub-Pagesæ­å»ºä¸ªäººåšå®¢/" class="cy_cmt_count" data-xid="2017/04/26/åŸºäºHexoå’ŒGithub-Pagesæ­å»ºä¸ªäººåšå®¢/" itemprop="commentsCount" ></span>
                </a>
              
            
          

          
          
             <span id="/2017/04/26/åŸºäºHexoå’ŒGithub-Pagesæ­å»ºä¸ªäººåšå®¢/" class="leancloud_visitors" data-flag-title="åŸºäºHexoå’ŒGithub Pagesæ­å»ºä¸ªäººåšå®¢">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">é˜…è¯»æ¬¡æ•°ï¼š</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><p>å¦‚æœè¦æ­å»ºä¸€ä¸ªè‡ªå·±çš„ä¸ªäººåšå®¢ï¼ŒæŒ‰ç…§å¾€å¸¸çš„ç»éªŒï¼Œé¦–é€‰è‚¯å®šæ˜¯WordPressè¿™ç§åšå®¢å¹³å°ï¼ŒåŸºäºPHP+MYSQLçš„é»„é‡‘ç»„åˆï¼Œä¹°ä¸ªæœåŠ¡å™¨ã€ä¹°ä¸ªåŸŸåï¼Œå®‰è£…å‘å¸ƒã€‚è¿‡ç¨‹ç¹çä¸è¯´ï¼Œæ›´æ˜¯è¦èŠ±è´¹ä¸€å®šçš„é‡‘é’±ã€‚ç”±äºæœ¬äººå¹³æ—¶å°±æ˜¯Markdownå’ŒGithubçš„é‡åº¦ä½¿ç”¨è€…ï¼ŒGithub Pageså°±è‡ªç„¶æ˜¯é¦–é€‰äº†ï¼Œè‡³äºä¸ºä»€ä¹ˆæ˜¯Hexoè€Œä¸æ˜¯Gitè‡ªå®¶çš„Jekyllï¼Œè¿™ä¸ªçœ‹ä¸ªäººå–œå¥½å§, å› ä¸ºä¸¤è€…éƒ½æ˜¯åŸºäºMarkdownçš„é™æ€åšå®¢å·¥å…·ã€‚</p>
<p>Github Pagesæ˜¯Githubçš„ä¸€ä¸ªç½‘ç«™å·¥å…·ï¼Œé€šè¿‡åœ¨Githubä¸­å»ºç«‹åå­—ä¸º<strong>username.github.io</strong>çš„é¡¹ç›®(usernameå°±æ˜¯ä½ åœ¨Githubä¸Šçš„ç”¨æˆ·å)ï¼ŒGithubå°±ä¼šè‡ªåŠ¨è§£æä½ åœ¨è¯¥é¡¹ç›®ä¸­çš„htmlå†…å®¹ã€‚é€šè¿‡è®¿é—®<strong><a href="http://username.github.io" target="_blank" rel="noopener">http://username.github.io</a></strong> å°±èƒ½è®¿é—®ä½ çš„ç½‘ç«™äº†ã€‚</p>
<p>Hexoæ˜¯ä¸€ä¸ªæ”¯æŒMarkdownè¿›è¡Œå†™ä½œï¼Œå¹¶è§£ææˆé™æ€htmlé¡µé¢ï¼Œæ”¯æŒä¸€é”®éƒ¨ç½²åˆ°Githubä¸Šï¼Œä¸Github Pagesæ— ç¼è¡”æ¥ã€‚</p>
<p>æ‰€ä»¥åŸºäºHexoå’ŒGithub Pagesçš„å»ºç«™æ­¥éª¤åº”è¯¥æ˜¯è¿™æ ·å­çš„ï¼š</p>
<blockquote>
<ol>
<li>ç”³è¯·Githubè´¦å·(å¦‚æœæ²¡æœ‰)</li>
<li>é…ç½®Github Pages</li>
<li>å®‰è£…Hexo</li>
<li>å»ºç«™</li>
<li>é…ç½®</li>
<li>å‘å¸ƒæ–‡ç« </li>
</ol>
</blockquote>
<h4 id="Github-Pages"><a href="#Github-Pages" class="headerlink" title="Github Pages"></a>Github Pages</h4><p>Githubè´¦å·çš„ç”³è¯·è¿™é‡Œå°±ä¸æè¿°äº†ï¼Œä¸æ‡‚çš„å¯ä»¥ç™¾åº¦ä¸‹ï¼Œç„¶åè¿›å…¥Githubçš„ä¸ªäººé¡µé¢ï¼Œæ–°å»ºä»“åº“(Repository)ï¼Œåç§°ä¸º<strong>username.github.io</strong>ï¼Œæ³¨æ„ï¼š<code>usernameå¿…é¡»å’Œç”¨æˆ·åä¸€è‡´</code>ã€‚<br><img src="http://op09okwcw.bkt.clouddn.com/article_show_git_new_repo.jpg" alt="æ–°å¢ä»“åº“"></p>
<p>æ˜¯çš„ï¼Œåˆ°è¿™é‡Œå°±å·²ç»å¯ä»¥å…·å¤‡ä½¿ç”¨èƒ½åŠ›äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œè¯¦ç»†æè¿°å¯ä»¥å‚è€ƒï¼š<a href="https://pages.github.com/" target="_blank" rel="noopener">Github Pages</a></p>
<h4 id="å®‰è£…Hexo"><a href="#å®‰è£…Hexo" class="headerlink" title="å®‰è£…Hexo"></a>å®‰è£…Hexo</h4><p>Hexoæ˜¯åŸºäºNode.jsï¼Œæ‰€ä»¥å®‰è£…Hexoä¹‹å‰ï¼Œéœ€è¦å®‰è£…<a href="http://nodejs.org/" target="_blank" rel="noopener">Node.js</a>ï¼Œè¿˜æœ‰å°±æ˜¯<a href="http://git-scm.com/" target="_blank" rel="noopener">Gitå®¢æˆ·ç«¯</a>ä¹Ÿæ˜¯å¿…é¡»çš„ã€‚å¦‚æœ2ä¸ªéƒ½å·²ç»å…·å¤‡äº†ï¼Œå°±å¼€å§‹å®‰è£…Hexoå§ï¼Œä¸€ä¸ªå‘½ä»¤æå®šï¼</p>
<p><code>$ npm install -g hexo-cli</code></p>
<h4 id="å»ºç«™"><a href="#å»ºç«™" class="headerlink" title="å»ºç«™"></a>å»ºç«™</h4><p>OKï¼Œä¸‹é¢å°±å¼€å§‹ç”¨Hexoå»ºç«‹ä½ çš„ç«™ç‚¹ç›®å½•å§, å…·ä½“å¯å‚è€ƒå®˜ç½‘æ–‡æ¡£ï¼š<a href="https://hexo.io/zh-cn/docs/setup.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p>
<p>ç¬¬ä¸€æ­¥ï¼šå»ºç«‹ä¸€ä¸ªè‡ªå·±çš„ç«™ç‚¹ï¼Œæ¯”å¦‚æˆ‘çš„å«ioman</p>
<pre><code>$ hexo init ioman
$ cd ioman
$ npm install
</code></pre><p>ç«™ç‚¹ç»“æ„å¦‚ä¸‹ï¼š</p>
<pre><code>.
â”œâ”€â”€ _config.yml   # é…ç½®æ–‡ä»¶ï¼Œå¤§éƒ¨åˆ†çš„é…ç½®éƒ½é å®ƒ
â”œâ”€â”€ package.json  # åº”ç”¨ç¨‹åºçš„ä¿¡æ¯
â”œâ”€â”€ scaffolds     # æ¨¡æ¿ä¿¡æ¯ï¼Œåˆ›å»ºæ–‡ç« æ—¶ä½¿ç”¨
â”œâ”€â”€ source              # èµ„æºå’ŒMarkdownæ–‡ä»¶å­˜æ”¾åœ°æ–¹
|   â”œâ”€â”€ _drafts       # è‰ç¨¿ï¼Œå½“layoutæŒ‡å®šä¸ºdraftæ—¶ï¼Œé»˜è®¤ä¸è§£æå‘å¸ƒ
|   â””â”€â”€ _posts        # å‡†å¤‡å‘å¸ƒçš„æ–‡ç« ï¼Œæ¯æ¬¡generateä¼šè§£æè¯¥ç›®å½•ä¸‹çš„æ–‡ç« 
â””â”€â”€ themes              # ä¸»é¢˜ï¼Œ é™æ€æ–‡ä»¶ä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆ
</code></pre><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p>å»ºç«™å®Œæˆä¹‹åï¼Œå½“ç„¶æ˜¯è¦é…ç½®äº†ï¼Œè¿™é‡Œæœ€é‡è¦çš„å°±æ˜¯<code>_config.yml</code>æ–‡ä»¶ï¼Œå¯ä»¥å‚è€ƒ<a href="https://hexo.io/zh-cn/docs/configuration.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>ï¼Œè®°å¾—è¦é…ç½®Githubè´¦å·ä¿¡æ¯, éœ€è¦å¡«å†™<code>type, repo, branch</code>ä¸‰ä¸ªé…ç½®, <code>type</code>å’Œ<code>branch</code>ä¸€èˆ¬æ˜¯å›ºå®šçš„ï¼Œ<code>repo</code>è¯·ä»è‡ªå·±çš„Githubé¡¹ç›®ä¸Šå¤åˆ¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/leeis/leeis.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<h4 id="å†™æ–‡ç« å’Œéƒ¨ç½²"><a href="#å†™æ–‡ç« å’Œéƒ¨ç½²" class="headerlink" title="å†™æ–‡ç« å’Œéƒ¨ç½²"></a>å†™æ–‡ç« å’Œéƒ¨ç½²</h4><p>å¥½äº†ï¼Œç°åœ¨ä¸‡äº‹ä¿±å¤‡ï¼Œå¯ä»¥å¼€å§‹å†™æ–‡ç« äº†ï¼Œ ä¸€èˆ¬çš„æ“ä½œæµç¨‹æ˜¯ï¼š</p>
<h5 id="æ–°å»ºæ–‡ç« "><a href="#æ–°å»ºæ–‡ç« " class="headerlink" title="æ–°å»ºæ–‡ç« "></a>æ–°å»ºæ–‡ç« </h5><p>å‘½ä»¤:<code>hexo new [layout] &lt;title&gt;</code>ï¼Œå¯ç¼©å†™ä¸º<code>hexo n</code><br>è¿™é‡Œçš„<code>[layout]</code>å°±æ˜¯å¸ƒå±€ï¼Œé»˜è®¤å¸ƒå±€é…ç½®åœ¨<code>scaffolds</code>ç›®å½•ä¸‹ï¼Œåˆ†åˆ«æ˜¯<code>draft</code>,<code>post</code>,<code>page</code>.</p>
<ul>
<li><code>draft</code>æ˜¯è‰ç¨¿ï¼Œå½“æ‰§è¡Œ<code>hexo n draft hello</code>æ—¶ï¼Œä¼šåœ¨<code>source/_draft</code>ä¸‹æ–°å¢ä¸€ä¸ªhello.md,åœ¨è‰ç¨¿ä¸­çš„æ–‡ç« é»˜è®¤ä¸ä¼šè¢«å‘å¸ƒåˆ°ç½‘ç«™ä¸Šï¼Œç›´åˆ°ä½ æ‰§è¡Œ<code>hexo publish</code>å‘½ä»¤å°†è‰ç¨¿ä¸­çš„æ–‡ç« å‘å¸ƒã€‚</li>
<li><code>post</code>æ˜¯é»˜è®¤å¸ƒå±€ï¼Œå¦‚æœä½ æƒ³ç«‹åˆ»å¼€å§‹å†™æ–‡ç« ï¼Œå¯ä»¥ç›´æ¥<code>hexo n hello</code>ï¼Œæ–‡ç« ä¼šå­˜æ”¾åœ¨<code>source/_post</code>ä¸­</li>
<li><code>page</code>æ˜¯ç‹¬ç«‹çš„é¡µé¢ï¼Œå½“æ‰§è¡Œ<code>hexo n page hello</code>æ—¶ï¼Œ ä¼šåœ¨<code>source/</code>ä¸‹ç”Ÿæˆå¯¹åº”çš„ç›®å½•<code>hello</code>ï¼Œè¯¥ç‹¬ç«‹çš„é¡µé¢éœ€è¦å•ç‹¬å¼•ç”¨ï¼Œä¸ä¼šå‡ºç°åœ¨æ–‡ç« ä¸­ï¼Œæ¯”å¦‚å¯ç”¨äºç”Ÿæˆå…³äºä½œè€…çš„<code>about</code>é¡µé¢ã€‚</li>
</ul>
<h5 id="å‘å¸ƒè‰ç¨¿"><a href="#å‘å¸ƒè‰ç¨¿" class="headerlink" title="å‘å¸ƒè‰ç¨¿"></a>å‘å¸ƒè‰ç¨¿</h5><p>å‘½ä»¤:<code>hexo publish [layout] &lt;title&gt;</code>ï¼Œå¯ç¼©å†™ä¸º<code>hexo p</code><br>publishå‘½ä»¤æ˜¯å°†_draftä¸­çš„æ–‡ç« å‘å¸ƒåˆ°_postä¸­</p>
<h5 id="ç”Ÿæˆé™æ€æ–‡ä»¶"><a href="#ç”Ÿæˆé™æ€æ–‡ä»¶" class="headerlink" title="ç”Ÿæˆé™æ€æ–‡ä»¶"></a>ç”Ÿæˆé™æ€æ–‡ä»¶</h5><p>å‘½ä»¤:<code>hexo generate</code>ï¼Œå¯ç¼©å†™ä¸º<code>hexo g</code><br>æ­¤å‘½ä»¤å°†mdæ–‡ä»¶è§£ææˆé™æ€htmlæ–‡ä»¶ã€‚å¯é€‰å‚æ•°<code>--watch</code>ï¼Œå°†è§‚å¯Ÿæ–‡ä»¶çš„å˜åŒ–ï¼Œè‡ªåŠ¨è§£æï¼Œä¸éœ€è¦å†æ‰§è¡Œ<code>hexo g</code>å‘½ä»¤</p>
<h5 id="éƒ¨ç½²åˆ°Github"><a href="#éƒ¨ç½²åˆ°Github" class="headerlink" title="éƒ¨ç½²åˆ°Github"></a>éƒ¨ç½²åˆ°Github</h5><p>å‘½ä»¤:<code>hexo deploy</code>ï¼Œå¯ç¼©å†™ä¸º<code>hexo d</code><br>å½“é…ç½®äº†GitæœåŠ¡å™¨ä¿¡æ¯ä¹‹åï¼Œæ‰§è¡Œè¯¥å‘½ä»¤ä¹‹åä¼šå°†<code>public</code>ç›®å½•ä¸­çš„æ–‡ä»¶æ¨é€åˆ°è¿œç¨‹GitæœåŠ¡å™¨ä¸Šï¼Œè¿™æ—¶å€™å†è®¿é—®<code>leeis.github.io</code>å°±è‡ªåŠ¨æ›´æ–°äº†ï¼Œä¸€åˆ‡å°±æ˜¯å¦‚æ­¤ç®€å•ã€‚<br><code>hexo d -g</code> å¯ä»¥åœ¨éƒ¨ç½²ä¹‹å‰é‡æ–°ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œæ­¤å‘½ä»¤å’Œ<code>hexo g -d</code>æ•ˆæœä¸€æ ·ã€‚</p>
<h5 id="è¡¥å……å‘½ä»¤"><a href="#è¡¥å……å‘½ä»¤" class="headerlink" title="è¡¥å……å‘½ä»¤"></a>è¡¥å……å‘½ä»¤</h5><p><code>hexo clean</code> ç”¨äºæ¸…é™¤æœ¬åœ°é™æ€é¡µé¢ç¼“å­˜ï¼Œå¯ä»¥åœ¨generateä¹‹å‰cleanä¸€ä¸‹ã€‚<br><code>hexo server</code> è‡ªå¸¦çš„æœåŠ¡å™¨ï¼Œå¯ç”¨äºæœ¬åœ°æµ‹è¯•ï¼Œå¯åŠ¨ä¹‹åï¼Œé»˜è®¤ç«¯å£æ˜¯4000ï¼Œå¯ä»¥è®¿é—®<code>http://localhost:4000</code>è¿›è¡Œæœ¬åœ°é¢„è§ˆï¼Œ<code>-p</code>å‚æ•°å¯æ›´æ”¹ç«¯å£ã€‚<code>--draft</code>å‘½ä»¤å¯è¿›è¡Œè‰ç¨¿çš„é¢„è§ˆã€‚</p>
<h4 id="æ›´æ¢ä¸»é¢˜"><a href="#æ›´æ¢ä¸»é¢˜" class="headerlink" title="æ›´æ¢ä¸»é¢˜"></a>æ›´æ¢ä¸»é¢˜</h4><p>ä¸»é¢˜å°±æ˜¯æŒ‡åšå®¢çš„æ ·å¼ï¼Œä¸»é¢˜å†…å®¹å­˜åœ¨ç›®å½•<code>themes</code>ç›®å½•ä¸‹ï¼Œå®˜æ–¹é»˜è®¤çš„ä¸»é¢˜æ˜¯<code>landscape</code>ï¼Œå¦‚æœéœ€è¦æ›´æ¢ä¸»é¢˜ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š  </p>
<p>1.å»<a href="https://hexo.io/themes/" target="_blank" rel="noopener">ä¸»é¢˜é¡µé¢</a>ä¸­é€‰æ‹©è‡ªå·±å–œæ¬¢çš„ä¸»é¢˜ï¼Œå¯ä»¥ç‚¹å‡»å›¾ç‰‡è¿›å…¥ä½œè€…çš„ä¸»é¡µæµè§ˆï¼Œå¦‚æœå–œæ¬¢çš„è¯ï¼Œç›´æ¥ç‚¹å‡»æ ‡é¢˜è¿›å…¥ä½œè€…çš„Githubã€‚<br><img src="http://op09okwcw.bkt.clouddn.com/hexo_theme.jpg" alt="å®˜ç½‘ä¸»é¢˜é¡µé¢"><br><img src="http://op09okwcw.bkt.clouddn.com/theme_github.jpg" alt="nextä¸»é¢˜çš„Github"></p>
<p>2.ä»githubä¸Šä¸‹è½½ä¸»é¢˜æ–‡ä»¶åˆ°æœ¬åœ°ï¼Œè¿›å…¥åˆ°æœ¬åœ°ç«™ç‚¹æ ¹ç›®å½•ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œæœ€ç»ˆå°†themeæ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°çš„<code>themes/nextç›®å½•</code></p>
<p><code>git clone https://github.com/iissnan/hexo-theme-next.git themes/next</code></p>
<p>3.æ›´æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶<code>_config.yml</code>ä½¿ä¸»é¢˜ç”Ÿæ•ˆ</p>
<p>_config.yml  </p>
<pre><code># Extensions
## Plugins: https://hexo.io/plugins/
## Themes: https://hexo.io/themes/
theme: next
</code></pre><blockquote>
<p>å¤‡æ³¨ï¼šä¸€èˆ¬éœ€è¦æ ¹æ®ä¸»é¢˜çš„README.mdæè¿°è¿›è¡Œç›¸å…³çš„é…ç½®ä¿®æ”¹ï¼Œä¸»è¦å­˜åœ¨ä¸»é¢˜æ–‡ä»¶å¤¹çš„<code>_config.yml</code>ä¸­ã€‚</p>
</blockquote>
<h4 id="Front-matter"><a href="#Front-matter" class="headerlink" title="Front-matter"></a>Front-matter</h4><pre><code>Front-matteræ˜¯æŒ‡åœ¨æ–‡ç« å¼€å¤´éƒ¨åˆ†çš„é…ç½®è¯´æ˜ï¼Œå¯ä»¥æŒ‡å®šæ–‡ç« çš„åˆ†ç±»ã€æ ‡ç­¾ã€æ˜¯å¦å¼€å¯è¯„è®ºåŠŸèƒ½ç­‰ç­‰ï¼Œå…·ä½“å‚æ•°å¯å‚è€ƒ[å®˜æ–¹Docs](https://hexo.io/docs/front-matter.html#Settings-amp-Their-Default-Values)ã€‚
</code></pre><blockquote>
<p>æœ‰äº›ä¸»é¢˜å¯¹æ–‡ç« æ²¡æœ‰å¼€å¯å…¨å±€ç›®å½•åŠŸèƒ½ï¼Œå¯ä»¥é€šè¿‡<code>toc: true</code>å†…åµŒæ–‡ç« çš„ç›®å½•ç»“æ„ï¼Œè¿™ä¸ªå‚æ•°å®˜ç½‘æ²¡æœ‰æåŠï¼Œå¯ä»¥å‚è€ƒã€‚</p>
</blockquote>
<h4 id="Github-Pagesç»‘å®šåŸŸå"><a href="#Github-Pagesç»‘å®šåŸŸå" class="headerlink" title="Github Pagesç»‘å®šåŸŸå"></a>Github Pagesç»‘å®šåŸŸå</h4><ol>
<li><p>è·å–github pagesä¸»é¡µçš„ipåœ°å€ï¼Œæ¯”å¦‚æˆ‘çš„åœ°å€æ˜¯leeis.github.io</p>
<p> <img src="http://op09okwcw.bkt.clouddn.com/ping_github_ip.jpg" alt=""></p>
</li>
<li><p>ä¿®æ”¹åŸŸåè§£ææ–¹å¼å°†, å°†è®°å½•å€¼ä¿®æ”¹ä¸ºè·å–åˆ°çš„IPåœ°å€</p>
<p> <img src="http://op09okwcw.bkt.clouddn.com/blog_ali_hosts.jpg" alt=""></p>
</li>
<li><p>è¿›å…¥<code>github</code>çš„leeis.github.ioé¡¹ç›®ï¼Œè¿›å…¥<code>setting</code>ä¸­è¿›è¡Œä¸‹å›¾è®¾ç½®ï¼Œé…ç½®è‡ªå·±çš„åŸŸå</p>
<p> <img src="http://op09okwcw.bkt.clouddn.com/blog_github_setting_domain.jpg" alt=""></p>
</li>
</ol>
<p>è¿™æ ·ç­‰å¾…10åˆ†é’Ÿå·¦å³å°±èƒ½æ­£å¸¸è§£æäº†ã€‚</p>
<h4 id="Nextä¸»é¢˜çš„ä¸€äº›é…ç½®"><a href="#Nextä¸»é¢˜çš„ä¸€äº›é…ç½®" class="headerlink" title="Nextä¸»é¢˜çš„ä¸€äº›é…ç½®"></a>Nextä¸»é¢˜çš„ä¸€äº›é…ç½®</h4><h5 id="1-æ‰“å¼€èµèµåŠŸèƒ½"><a href="#1-æ‰“å¼€èµèµåŠŸèƒ½" class="headerlink" title="1. æ‰“å¼€èµèµåŠŸèƒ½"></a>1. æ‰“å¼€èµèµåŠŸèƒ½</h5><pre><code>éœ€è¦åœ¨`ä¸»é¢˜é…ç½®æ–‡ä»¶`ä¸­å¡«å…¥**å¾®ä¿¡**å’Œ**æ”¯ä»˜å®**æ”¶æ¬¾äºŒç»´ç å›¾ç‰‡åœ°å€ å³å¯å¼€å¯è¯¥åŠŸèƒ½ã€‚
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">reward\_comment: åšæŒåŸåˆ›æŠ€æœ¯åˆ†äº«ï¼Œæ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œï¼</span><br><span class="line">wechatpay: /path/to/wechat-reward-image</span><br><span class="line">alipay: /path/to/alipay-reward-image</span><br></pre></td></tr></table></figure>
<h5 id="2-è®¾ç½®ä»£ç é«˜äº®"><a href="#2-è®¾ç½®ä»£ç é«˜äº®" class="headerlink" title="2. è®¾ç½®ä»£ç é«˜äº®"></a>2. è®¾ç½®ä»£ç é«˜äº®</h5><p>NexT é»˜è®¤ä½¿ç”¨çš„æ˜¯ ç™½è‰²çš„ normal ä¸»é¢˜ï¼Œå¯é€‰çš„å€¼æœ‰ normalï¼Œnightï¼Œ night blueï¼Œ night brightï¼Œ night eightiesï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ›´æ”¹ highlight_theme å­—æ®µ:</span><br><span class="line"># Code Highlight theme</span><br><span class="line"># Available value: normal | night | night eighties | night blue | night bright</span><br><span class="line"># https://github.com/chriskempson/tomorrow-theme</span><br><span class="line">highlight\_theme: normal</span><br></pre></td></tr></table></figure>
<h5 id="3-è®¢é˜…å¾®ä¿¡å…¬ä¼—å·"><a href="#3-è®¢é˜…å¾®ä¿¡å…¬ä¼—å·" class="headerlink" title="3. è®¢é˜…å¾®ä¿¡å…¬ä¼—å·"></a>3. è®¢é˜…å¾®ä¿¡å…¬ä¼—å·</h5><p>åœ¨æ¯ç¯‡æ–‡ç« çš„æœ«å°¾æ˜¾ç¤ºå¾®ä¿¡å…¬ä¼—å·äºŒç»´ç ï¼Œæ‰«ä¸€æ‰«ï¼Œè½»æ¾è®¢é˜…åšå®¢ã€‚<br>åœ¨å¾®ä¿¡å…¬ä¼—å·å¹³å°ä¸‹è½½æ‚¨çš„äºŒç»´ç ï¼Œå¹¶å°†å®ƒå­˜æ”¾äºåšå®¢source/uploads/ç›®å½•ä¸‹ã€‚<br>ç„¶åç¼–è¾‘<code>ä¸»é¢˜é…ç½®æ–‡ä»¶</code>ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Wechat Subscriber</span><br><span class="line">wechat\_subscriber:</span><br><span class="line">  enabled: true</span><br><span class="line">  qcode: /uploads/wechat-qcode.jpg</span><br><span class="line">  description: æ¬¢è¿æ‚¨æ‰«ä¸€æ‰«ä¸Šé¢çš„å¾®ä¿¡å…¬ä¼—å·ï¼Œè®¢é˜…æˆ‘çš„åšå®¢ï¼</span><br></pre></td></tr></table></figure>
<h5 id="4-å¼€å¯åŠ¨ç”»æ•ˆæœ"><a href="#4-å¼€å¯åŠ¨ç”»æ•ˆæœ" class="headerlink" title="4. å¼€å¯åŠ¨ç”»æ•ˆæœ"></a>4. å¼€å¯åŠ¨ç”»æ•ˆæœ</h5><p>ç¼–è¾‘<code>ä¸»é¢˜é…ç½®æ–‡ä»¶</code>, æœç´¢ canvas_nest æˆ– three_wavesï¼Œæ ¹æ®æ‚¨çš„éœ€æ±‚è®¾ç½®å€¼ä¸º true æˆ–è€… false å³å¯.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">canvas_nest é…ç½®ç¤ºä¾‹:</span><br><span class="line"># canvas\_nest</span><br><span class="line">canvas\_nest: true //å¼€å¯åŠ¨ç”»</span><br><span class="line">canvas\_nest: false //å…³é—­åŠ¨ç”»</span><br><span class="line">	</span><br><span class="line">three_waves é…ç½®ç¤ºä¾‹:</span><br><span class="line"># three\_waves</span><br><span class="line">three\_waves: true //å¼€å¯åŠ¨ç”»</span><br><span class="line">three\_waves: false //å…³é—­åŠ¨ç”»</span><br></pre></td></tr></table></figure>
<h4 id="è¡¥å……è¯´æ˜"><a href="#è¡¥å……è¯´æ˜" class="headerlink" title="è¡¥å……è¯´æ˜"></a>è¡¥å……è¯´æ˜</h4><h5 id="Q-ä¸ºä»€ä¹ˆä¼šå‡ºç°Cannot-GET-tags-å’ŒCannot-GET-categories"><a href="#Q-ä¸ºä»€ä¹ˆä¼šå‡ºç°Cannot-GET-tags-å’ŒCannot-GET-categories" class="headerlink" title="Q: ä¸ºä»€ä¹ˆä¼šå‡ºç°Cannot GET /tags/å’ŒCannot GET /categories/"></a>Q: ä¸ºä»€ä¹ˆä¼šå‡ºç°<code>Cannot GET /tags/</code>å’Œ<code>Cannot GET /categories/</code></h5><p>A: ä¸ç®¡æ˜¯ä»»ä½•çš„ä¸»é¢˜ï¼Œå‡¡æ˜¯ä»èœå•ä¸­è¿›å…¥<code>åˆ†ç±»</code>å’Œ<code>æ ‡ç­¾</code>çš„ï¼Œéƒ½æ˜¯è¿›å…¥å•ç‹¬çš„pageé¡µé¢ï¼Œéœ€è¦æˆ‘ä»¬æ‰‹å·¥æ–°å¢ã€‚</p>
<ol>
<li>åˆ†åˆ«æ‰§è¡Œ<code>hexo new page categories</code> å’Œ <code>hexo new page tags</code>ï¼Œæ–°å¢categorieså’Œtagsé¡µé¢</li>
<li>ä¿®æ”¹/source/categories/index.mdï¼Œæ·»åŠ <code>type: &quot;categories&quot;</code></li>
<li>ä¿®æ”¹/source/tags/index.mdï¼Œæ·»åŠ <code>type: &quot;tags&quot;</code></li>
</ol>
<h5 id="Q-è¯­è¨€å¦‚ä½•åˆ‡æ¢"><a href="#Q-è¯­è¨€å¦‚ä½•åˆ‡æ¢" class="headerlink" title="Q: è¯­è¨€å¦‚ä½•åˆ‡æ¢"></a>Q: è¯­è¨€å¦‚ä½•åˆ‡æ¢</h5><p>A: åœ¨æ¯ä¸ªthemeä¸­ï¼Œéƒ½ä¼šæœ‰å¯¹åº”çš„<code>language</code>ç›®å½•ï¼Œä¸Šé¢çš„æ–‡ä»¶åå°±æ˜¯å¯¹åº”çš„è¯­è¨€ï¼Œåœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­æˆ‘ä»¬å¯ä»¥æŒ‡å®šè¯­è¨€ï¼Œå³åç§°è¦å¯¹åº”ï¼Œå¦‚<code>next</code>ä¸»é¢˜çš„ä¸­æ–‡é»˜è®¤åç§°å«<code>zh_Hans</code>ï¼Œæˆ‘ç¬¬ä¸€æ¬¡å®‰è£…çš„æ—¶å€™å°±æ‰¾ä¸åˆ°ï¼Œå› ä¸ºæ­£å¸¸çš„ä¸­æ–‡è¯­è¨€ä¸€èˆ¬ä½¿ç”¨<code>zh_CN</code>,æ‰€ä»¥å¦‚æœè¯­è¨€åˆ‡æ¢æœ‰é—®é¢˜ï¼Œè®°å¾—æ ¸å¯¹ä¸‹åå­—æ˜¯å¦åŒ¹é…ã€‚</p>
<h5 id="Q-å¦‚ä½•è‡ªå·±å¼€å‘ä¸»é¢˜"><a href="#Q-å¦‚ä½•è‡ªå·±å¼€å‘ä¸»é¢˜" class="headerlink" title="Q: å¦‚ä½•è‡ªå·±å¼€å‘ä¸»é¢˜"></a>Q: å¦‚ä½•è‡ªå·±å¼€å‘ä¸»é¢˜</h5><p>A: ä¸€èˆ¬çš„ï¼Œè¦å…ˆäº†è§£ä¸»é¢˜çš„ç›®å½•ç»“æ„å’Œæ„æˆï¼Œé€šè¿‡node.jsçš„æ¨¡æ¿è¯­è¨€EJSæˆ–è€…Swigè¿›è¡Œå¼€å‘, å¯ä»¥é€šè¿‡åˆ†æå„ä¸ªä¸»é¢˜å¼€å‘è€…çš„ä»£ç è¿›è¡Œç ”ç©¶ã€‚å¯å‚è€ƒï¼š<a href="https://segmentfault.com/a/1190000006057336" target="_blank" rel="noopener">å†™ä¸€ä¸ªè‡ªå·±çš„Hexoä¸»é¢˜</a>,<a href="http://www.ahonn.me/2016/12/15/create-a-hexo-theme-from-scratch/" target="_blank" rel="noopener">ä»é›¶å¼€å§‹åˆ¶ä½œ Hexo ä¸»é¢˜</a></p>
<h5 id="Q-ä¸ºä»€ä¹ˆNextä¸»é¢˜ä¸­å­—æ•°ç»Ÿè®¡æ’ä»¶æ— æ•ˆ"><a href="#Q-ä¸ºä»€ä¹ˆNextä¸»é¢˜ä¸­å­—æ•°ç»Ÿè®¡æ’ä»¶æ— æ•ˆ" class="headerlink" title="Q:ä¸ºä»€ä¹ˆNextä¸»é¢˜ä¸­å­—æ•°ç»Ÿè®¡æ’ä»¶æ— æ•ˆ"></a>Q:ä¸ºä»€ä¹ˆNextä¸»é¢˜ä¸­å­—æ•°ç»Ÿè®¡æ’ä»¶æ— æ•ˆ</h5><p>A: éœ€è¦å®‰è£…<a href="https://github.com/willin/hexo-wordcount" target="_blank" rel="noopener">æ’ä»¶</a><br><code>npm install hexo-wordcount --save</code></p>
<h5 id="Q-å¦‚ä½•å¯ç”¨Ftpéƒ¨ç½²æ–¹å¼"><a href="#Q-å¦‚ä½•å¯ç”¨Ftpéƒ¨ç½²æ–¹å¼" class="headerlink" title="Q:å¦‚ä½•å¯ç”¨Ftpéƒ¨ç½²æ–¹å¼"></a>Q:å¦‚ä½•å¯ç”¨Ftpéƒ¨ç½²æ–¹å¼</h5><p>éœ€è¦å®‰è£…ftpéƒ¨ç½²æ’ä»¶ï¼Œæ”¯æŒ<a href="https://hexo.io/docs/deployment.html#FTPSync" target="_blank" rel="noopener">ftpsync</a>å’Œ<a href="https://hexo.io/docs/deployment.html#SFTP" target="_blank" rel="noopener">sftp</a>  </p>
<p><strong>1.å®‰è£…</strong>:<br>    FTPSync: <code>npm install hexo-deployer-ftpsync --save</code><br>    sftp: <code>npm install hexo-deployer-sftp --save</code></p>
<p><strong>2.ä¿®æ”¹<code>_config.yml</code>é…ç½®</strong>:  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: sftp</span><br><span class="line">  host: xx.xx.xx.xx</span><br><span class="line">  user: root</span><br><span class="line">  pass: abcdefg</span><br><span class="line">  remotePath: /</span><br><span class="line">  port: 22</span><br></pre></td></tr></table></figure>
<p><strong>3.é‡æ–°éƒ¨ç½²å‘å¸ƒ</strong><br><code>hexo g -d</code></p>
<h4 id="èµ„æ–™æ¥æº"><a href="#èµ„æ–™æ¥æº" class="headerlink" title="èµ„æ–™æ¥æº"></a>èµ„æ–™æ¥æº</h4><p><a href="https://hexo.io/docs/" target="_blank" rel="noopener">Hexo Docs</a><br><a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">Nextä¸»é¢˜æ–‡æ¡£</a><br><a href="http://ejs.co/" target="_blank" rel="noopener">ejs.co</a><br><a href="https://www.gitbook.com/book/pengloo53/hexo/details" target="_blank" rel="noopener">Hexoå°ä¹¦</a>  </p>
<hr>
<blockquote>
<p>æ–‡ç« æ¥è‡ªIOMançš„<a href="http://ioman.cc">ä¸ªäººåšå®¢</a></p>
</blockquote>
<hr>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.png"
                alt="Mario" />
            
              <p class="site-author-name" itemprop="name">Mario</p>
              <p class="site-description motion-element" itemprop="description">Life is so short, do something to make yourself happy, such as coding.</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">9</span>
                    <span class="site-state-item-name">æ—¥å¿—</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">6</span>
                    <span class="site-state-item-name">åˆ†ç±»</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">10</span>
                    <span class="site-state-item-name">æ ‡ç­¾</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/leeis" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:lewis.lynn1006@gmail.com" target="_blank" title="E-Mail"><i class="fa fa-fw fa-Mario"></i>E-Mail</a>
                  
                </span>
              
            </div>
          

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://ioman.cc/" title="IOMan" target="_blank">IOMan</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </section>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mario</span>

  

  
</div>




  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ â€“ <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Pisces</a> v6.4.0</div>




        








        
      </div>
    </footer>

    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>
























  



  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/reading_progress/reading_progress.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.0"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.0"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.0"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.0"></script>



  



  




  
    <script id="cy_cmt_num" src="https://changyan.sohu.com/upload/plugins/plugins.list.count.js?clientId=cyt0c0I6S"></script>
  







  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=6.4.0"></script>



  

  
  <script>
    
    function showTime(Counter) {
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url: { "$in": entries } }) })
        .done(function ({ results }) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.url;
            var time = item.time;
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function ({ responseJSON }) {
          console.log("LeanCloud Counter Error: " + responseJSON.code + " " + responseJSON.error);
        });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + "Ns0vIoIsMD4uMmA2lsPJbtLq-gzGzoHsz")
        .done(function ({ api_server }) {
          var Counter = function (method, url, data) {
            return $.ajax({
              method: method,
              url: `https://${api_server}/1.1${url}`,
              headers: {
                'X-LC-Id': "Ns0vIoIsMD4uMmA2lsPJbtLq-gzGzoHsz",
                'X-LC-Key': "NVNz3AvWI7ntzjkhgn7kDCLo",
                'Content-Type': 'application/json',
              },
              data: data,
            });
          };
          
          if ($('.post-title-link').length >= 1) {
            showTime(Counter);
          }
          
        })
    });
  </script>



  

  

  

  
  

  

  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=6.4.0"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=6.4.0"></script>


  

  
  
  
  <script src="/lib/bookmark/bookmark.min.js?v=1.0"></script>
  <script type="text/javascript">
  
    bookmark.loadBookmark();
  
  </script>


  
  <style>
    .copy-btn {
      display: inline-block;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 700;
      line-height: 20px;
      color: #333;
      white-space: nowrap;
      vertical-align: middle;
      cursor: pointer;
      background-color: #eee;
      background-image: linear-gradient(#fcfcfc, #eee);
      border: 1px solid #d5d5d5;
      border-radius: 3px;
      user-select: none;
      outline: 0;
    }

    .highlight-wrap .copy-btn {
      transition: opacity .3s ease-in-out;
      opacity: 0;
      padding: 2px 6px;
      position: absolute;
      right: 4px;
      top: 8px;
    }

    .highlight-wrap:hover .copy-btn,
    .highlight-wrap .copy-btn:focus {
      opacity: 1
    }

    .highlight-wrap {
      position: relative;
    }
  </style>
  <script>
    $('.highlight').each(function (i, e) {
      var $wrap = $('<div>').addClass('highlight-wrap')
      $(e).after($wrap)
      $wrap.append($('<button>').addClass('copy-btn').append('å¤åˆ¶').on('click', function (e) {
        var code = $(this).parent().find('.code').find('.line').map(function (i, e) {
          return $(e).text()
        }).toArray().join('\n')
        var ta = document.createElement('textarea')
        document.body.appendChild(ta)
        ta.style.position = 'absolute'
        ta.style.top = '0px'
        ta.style.left = '0px'
        ta.value = code
        ta.select()
        ta.focus()
        var result = document.execCommand('copy')
        document.body.removeChild(ta)
        
          if(result)$(this).text('å¤åˆ¶æˆåŠŸ')
          else $(this).text('å¤åˆ¶å¤±è´¥')
        
        $(this).blur()
      })).on('mouseleave', function (e) {
        var $b = $(this).find('.copy-btn')
        setTimeout(function () {
          $b.text('å¤åˆ¶')
        }, 300)
      }).append(e)
    })
  </script>


</body>
</html>
